"use strict";document.addEventListener("DOMContentLoaded",(e=>{!function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));let t=document.querySelector(".icon-menu"),i=document.querySelector("body"),o=document.querySelector(".menu__body");t&&t.addEventListener("click",(function(){t.classList.toggle("active"),i.classList.toggle("lock"),o.classList.toggle("active")})),$(".goto").click((function(){var e=$(this).attr("href").replace("#","");return $("body,html").animate({scrollTop:$("."+e).offset().top+0-$("header").height()},700,(function(){})),$(".menu__body").hasClass("active")&&($(".menu__body,.icon-menu").removeClass("active"),$("body").removeClass("lock")),!1})),$.each($(".spoller.active"),(function(e,t){$(this).next().show()})),$("body").on("click",".spoller",(function(e){return $(this).parents(".one").length>0&&($(this).parents(".one").find(".spoller").not($(this)).removeClass("active").next().slideUp(300),$(this).parents(".one").find(".spoller").not($(this)).parent().removeClass("active")),$(this).hasClass("closeall")&&!$(this).hasClass("active")&&$.each($(this).closest(".spollers").find(".spoller"),(function(e,t){$(this).removeClass("active"),$(this).next().slideUp(300)})),$(this).toggleClass("active").next().slideToggle(300,(function(e,t){$(this).parent().find(".slick-slider").length>0&&$(this).parent().find(".slick-slider").slick("setPosition")})),!1})),$(".scooters__slider").length>0&&$(".scooters__slider").slick({slidesToShow:1,nextArrow:$(".scooters .arrows__arrow_next"),prevArrow:$(".scooters .arrows__arrow_prev"),adaptiveHeight:!0}),$(".platform__items").length>0&&$(".platform__items").slick({slidesToShow:1,arrows:!1,adaptiveHeight:!0}),$(".gallery__items").length>0&&$(".gallery__items").slick({slidesToShow:1,arrows:!1,dots:!0,adaptiveHeight:!0,appendDots:$(".gallery__dots"),fade:!0});if(document.querySelectorAll("[type=range]")){function s(e,t){return e||(e=+document.querySelector("._sc-number").textContent),t||(t=+document.querySelector("._revenue-per-sc").textContent),(e*t*30).toFixed()}function r(e,t=s()){e||(e=+document.querySelector("._sc-number").textContent);let i;i=t/e*.15>700?.15*t:700*e;return(1781*e+222e3+i).toFixed()}function n(e=s(),t=r()){return(e-t).toFixed()}function l(){const e=document.querySelector("._start-investment p"),t=document.querySelector("._payback p"),i=document.querySelector(".calc__sum span");if(i){const o=+document.querySelector("._sc-number").textContent,l=s(o,+document.querySelector("._revenue-per-sc").textContent),a=function(e){return e||(e=+document.querySelector("._sc-number").textContent),53e3*e+9e4}(o),c=n(l,r(o,l)),d=function(e,t=n()){let i;if(e||(e=+document.querySelector("._sc-number").textContent),t>0){const o=53e3*e,s=9e4;i=Math.ceil((o+s)/t).toFixed()}else i="нет";return i}(o,c);e.textContent=`${a}`,t.textContent=`${d}`,i.textContent=`${Math.ceil(c)} ₽ / месяц`}}l(),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("rangeSlider",[],t):"object"==typeof exports?exports.rangeSlider=t():e.rangeSlider=t()}(window,(function(){return function(e){var t={};function i(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(o,s,function(t){return e[t]}.bind(null,s));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.uuid=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},t.delay=function(e,t){for(var i=arguments.length,o=Array(2<i?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];return setTimeout((function(){return e.apply(null,o)}),t)},t.debounce=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100;return function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return e.debouncing||(e.lastReturnVal=e.apply(window,o),e.debouncing=!0),clearTimeout(e.debounceTimeout),e.debounceTimeout=setTimeout((function(){e.debouncing=!1}),t),e.lastReturnVal}};var o=t.isString=function(e){return e===""+e},s=(t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.isNumberLike=function(e){return null!=e&&(o(e)&&isFinite(parseFloat(e))||isFinite(e))});t.getFirsNumberLike=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!t.length)return null;for(var o=0,r=t.length;o<r;o++)if(s(t[o]))return t[o];return null},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.simpleExtend=function(e,t){var i={};for(var o in e)i[o]=e[o];for(var s in t)i[s]=t[s];return i},t.between=function(e,t,i){return e<t?t:i<e?i:e}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),s=n(i(2)),r=n(i(0));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}i(3);var l=new RegExp("/[\\n\\t]/","g"),a="rangeSlider",c=s.supportsRange(),d={polyfill:!0,root:document,rangeClass:"rangeSlider",disabledClass:"rangeSlider--disabled",fillClass:"rangeSlider__fill",bufferClass:"rangeSlider__buffer",handleClass:"rangeSlider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"],min:null,max:null,step:null,value:null,buffer:null,stick:null,borderRadius:10,vertical:!1},u=!1,h=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o=void 0,n=void 0,l=void 0;if(e.instances.push(this),this.element=t,this.options=r.simpleExtend(d,i),this.polyfill=this.options.polyfill,this.vertical=this.options.vertical,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideStart=this.options.onSlideStart,this.onSlideEnd=this.options.onSlideEnd,this.onSlideEventsCount=-1,this.isInteractsNow=!1,this.needTriggerEvents=!1,this._addVerticalSlideScrollFix(),this.polyfill||!c){this.options.buffer=this.options.buffer||parseFloat(this.element.getAttribute("data-buffer")),this.identifier="js-"+a+"-"+r.uuid(),this.min=r.getFirsNumberLike(this.options.min,parseFloat(this.element.getAttribute("min")),0),this.max=r.getFirsNumberLike(this.options.max,parseFloat(this.element.getAttribute("max")),100),this.value=r.getFirsNumberLike(this.options.value,this.element.value,parseFloat(this.element.value||this.min+(this.max-this.min)/2)),this.step=r.getFirsNumberLike(this.options.step,parseFloat(this.element.getAttribute("step"))||(o=1)),this.percent=null,r.isArray(this.options.stick)&&1<=this.options.stick.length?this.stick=this.options.stick:(n=this.element.getAttribute("stick"))&&1<=(l=n.split(" ")).length&&(this.stick=l.map(parseFloat)),this.stick&&1===this.stick.length&&this.stick.push(1.5*this.step),this._updatePercentFromValue(),this.toFixed=this._toFixed(this.step);var u=void 0;this.container=document.createElement("div"),s.addClass(this.container,this.options.fillClass),u=this.vertical?this.options.fillClass+"__vertical":this.options.fillClass+"__horizontal",s.addClass(this.container,u),this.handle=document.createElement("div"),s.addClass(this.handle,this.options.handleClass),u=this.vertical?this.options.handleClass+"__vertical":this.options.handleClass+"__horizontal",s.addClass(this.handle,u),this.range=document.createElement("div"),s.addClass(this.range,this.options.rangeClass),this.range.id=this.identifier;var h=t.getAttribute("title");h&&0<h.length&&this.range.setAttribute("title",h),this.options.bufferClass&&(this.buffer=document.createElement("div"),s.addClass(this.buffer,this.options.bufferClass),this.range.appendChild(this.buffer),u=this.vertical?this.options.bufferClass+"__vertical":this.options.bufferClass+"__horizontal",s.addClass(this.buffer,u)),this.range.appendChild(this.container),this.range.appendChild(this.handle),u=this.vertical?this.options.rangeClass+"__vertical":this.options.rangeClass+"__horizontal",s.addClass(this.range,u),r.isNumberLike(this.options.value)&&(this._setValue(this.options.value,!0),this.element.value=this.options.value),r.isNumberLike(this.options.buffer)&&this.element.setAttribute("data-buffer",this.options.buffer),r.isNumberLike(this.options.min)&&this.element.setAttribute("min",""+this.min),r.isNumberLike(this.options.max),this.element.setAttribute("max",""+this.max),(r.isNumberLike(this.options.step)||o)&&this.element.setAttribute("step",""+this.step),s.insertAfter(this.element,this.range),s.setCss(this.element,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this._handleDown=this._handleDown.bind(this),this._handleMove=this._handleMove.bind(this),this._handleEnd=this._handleEnd.bind(this),this._startEventListener=this._startEventListener.bind(this),this._changeEventListener=this._changeEventListener.bind(this),this._handleResize=this._handleResize.bind(this),this._init(),window.addEventListener("resize",this._handleResize,!1),s.addEventListeners(this.options.root,this.options.startEvent,this._startEventListener),this.element.addEventListener("change",this._changeEventListener,!1)}}return o(e,[{key:"update",value:function(e,t){return t&&(this.needTriggerEvents=!0),r.isObject(e)&&(r.isNumberLike(e.min)&&(this.element.setAttribute("min",""+e.min),this.min=e.min),r.isNumberLike(e.max)&&(this.element.setAttribute("max",""+e.max),this.max=e.max),r.isNumberLike(e.step)&&(this.element.setAttribute("step",""+e.step),this.step=e.step,this.toFixed=this._toFixed(e.step)),r.isNumberLike(e.buffer)&&this._setBufferPosition(e.buffer),r.isNumberLike(e.value)&&this._setValue(e.value)),this._update(),this.onSlideEventsCount=0,this.needTriggerEvents=!1,this}},{key:"destroy",value:function(){var t=this;s.removeAllListenersFromEl(this,this.options.root),window.removeEventListener("resize",this._handleResize,!1),this.element.removeEventListener("change",this._changeEventListener,!1),this.element.style.cssText="",delete this.element[a],this.range&&this.range.parentNode.removeChild(this.range),(e.instances=e.instances.filter((function(e){return e!==t}))).some((function(e){return e.vertical}))||this._removeVerticalSlideScrollFix()}},{key:"_toFixed",value:function(e){return(e+"").replace(".","").length-1}},{key:"_init",value:function(){this.onInit&&"function"==typeof this.onInit&&this.onInit(),this._update(!1)}},{key:"_updatePercentFromValue",value:function(){this.percent=(this.value-this.min)/(this.max-this.min)}},{key:"_startEventListener",value:function(e,t){var i=this,o=e.target,r=!1;(1===e.which||"touches"in e)&&(s.forEachAncestors(o,(function(e){return r=e.id===i.identifier&&!s.hasClass(e,i.options.disabledClass)}),!0),r&&this._handleDown(e,t))}},{key:"_changeEventListener",value:function(e,t){if(!t||t.origin!==this.identifier){var i=e.target.value,o=this._getPositionFromValue(i);this._setPosition(o)}}},{key:"_update",value:function(e){var t=this.vertical?"offsetHeight":"offsetWidth";this.handleSize=s.getDimension(this.handle,t),this.rangeSize=s.getDimension(this.range,t),this.maxHandleX=this.rangeSize-this.handleSize,this.grabX=this.handleSize/2,this.position=this._getPositionFromValue(this.value),this.element.disabled?s.addClass(this.range,this.options.disabledClass):s.removeClass(this.range,this.options.disabledClass),this._setPosition(this.position),this.options.bufferClass&&this.options.buffer&&this._setBufferPosition(this.options.buffer),this._updatePercentFromValue(),!1!==e&&s.triggerEvent(this.element,"change",{origin:this.identifier})}},{key:"_addVerticalSlideScrollFix",value:function(){this.vertical&&!u&&(document.addEventListener("touchmove",e._touchMoveScrollHandler,{passive:!1}),u=!0)}},{key:"_removeVerticalSlideScrollFix",value:function(){document.removeEventListener("touchmove",e._touchMoveScrollHandler),u=!1}},{key:"_handleResize",value:function(){var e=this;return r.debounce((function(){r.delay((function(){e._update()}),300)}),50)()}},{key:"_handleDown",value:function(e){if(this.isInteractsNow=!0,e.preventDefault(),s.addEventListeners(this.options.root,this.options.moveEvent,this._handleMove),s.addEventListeners(this.options.root,this.options.endEvent,this._handleEnd),!(-1<(" "+e.target.className+" ").replace(l," ").indexOf(this.options.handleClass))){var t=this.range.getBoundingClientRect(),i=this._getRelativePosition(e),o=this.vertical?t.bottom:t.left,r=this._getPositionFromNode(this.handle)-o,n=i-this.grabX;this._setPosition(n),r<=i&&i<r+2*this.options.borderRadius&&(this.grabX=i-r),this._updatePercentFromValue()}}},{key:"_handleMove",value:function(e){var t=this._getRelativePosition(e);this.isInteractsNow=!0,e.preventDefault(),this._setPosition(t-this.grabX)}},{key:"_handleEnd",value:function(t){t.preventDefault(),s.removeEventListeners(this.options.root,this.options.moveEvent,this._handleMove),s.removeEventListeners(this.options.root,this.options.endEvent,this._handleEnd),s.triggerEvent(this.element,"change",{origin:this.identifier}),(this.isInteractsNow||this.needTriggerEvents)&&(this.onSlideEnd&&"function"==typeof this.onSlideEnd&&this.onSlideEnd(this.value,this.percent,this.position),this.vertical&&(e.slidingVertically=!1)),this.onSlideEventsCount=0,this.isInteractsNow=!1}},{key:"_setPosition",value:function(t){var i,o=void 0,s=void 0,n=void 0,l=this._getValueFromPosition(r.between(t,0,this.maxHandleX));this.stick&&((s=l%(n=this.stick[0]))<(o=this.stick[1]||.1)?l-=s:Math.abs(n-s)<o&&(l=l-s+n)),i=this._getPositionFromValue(l),this.vertical?(this.container.style.height=i+this.grabX+"px",this.handle.style.webkitTransform="translateY(-"+i+"px)",this.handle.style.msTransform="translateY(-"+i+"px)",this.handle.style.transform="translateY(-"+i+"px)"):(this.container.style.width=i+this.grabX+"px",this.handle.style.webkitTransform="translateX("+i+"px)",this.handle.style.msTransform="translateX("+i+"px)",this.handle.style.transform="translateX("+i+"px)"),this._setValue(l),this.position=i,this.value=l,this._updatePercentFromValue(),(this.isInteractsNow||this.needTriggerEvents)&&(this.onSlideStart&&"function"==typeof this.onSlideStart&&0===this.onSlideEventsCount&&this.onSlideStart(this.value,this.percent,this.position),this.onSlide&&"function"==typeof this.onSlide&&this.onSlide(this.value,this.percent,this.position),this.vertical&&(e.slidingVertically=!0)),this.onSlideEventsCount++}},{key:"_setBufferPosition",value:function(e){var t=!0;if(isFinite(e))e=parseFloat(e);else{if(!r.isString(e))return void console.warn("New position must be XXpx or XX%");0<e.indexOf("px")&&(t=!1),e=parseFloat(e)}if(isNaN(e))console.warn("New position is NaN");else if(this.options.bufferClass){var i=t?e:e/this.rangeSize*100;i<0&&(i=0),100<i&&(i=100),this.options.buffer=i;var o=this.options.borderRadius/this.rangeSize*100,s=i-o;s<0&&(s=0),this.vertical?(this.buffer.style.height=s+"%",this.buffer.style.bottom=.5*o+"%"):(this.buffer.style.width=s+"%",this.buffer.style.left=.5*o+"%"),this.element.setAttribute("data-buffer",i)}else console.warn("You disabled buffer, it's className is empty")}},{key:"_getPositionFromNode",value:function(e){for(var t=this.vertical?this.maxHandleX:0;null!==e;)t+=this.vertical?e.offsetTop:e.offsetLeft,e=e.offsetParent;return t}},{key:"_getRelativePosition",value:function(e){var t=this.range.getBoundingClientRect(),i=this.vertical?t.bottom:t.left,o=0,s=this.vertical?"pageY":"pageX";return void 0!==e[s]?o=e.touches&&e.touches.length?e.touches[0][s]:e[s]:void 0!==e.originalEvent?void 0!==e.originalEvent[s]?o=e.originalEvent[s]:e.originalEvent.touches&&e.originalEvent.touches[0]&&void 0!==e.originalEvent.touches[0][s]&&(o=e.originalEvent.touches[0][s]):e.touches&&e.touches[0]&&void 0!==e.touches[0][s]?o=e.touches[0][s]:!e.currentPoint||void 0===e.currentPoint.x&&void 0===e.currentPoint.y||(o=this.vertical?e.currentPoint.y:e.currentPoint.x),this.vertical&&(o-=window.pageYOffset),this.vertical?i-o:o-i}},{key:"_getPositionFromValue",value:function(e){var t=(e-this.min)/(this.max-this.min)*this.maxHandleX;return isNaN(t)?0:t}},{key:"_getValueFromPosition",value:function(e){var t=e/(this.maxHandleX||1),i=this.step*Math.round(t*(this.max-this.min)/this.step)+this.min;return Number(i.toFixed(this.toFixed))}},{key:"_setValue",value:function(e,t){(e!==this.value||t)&&(this.element.value=e,this.value=e,s.triggerEvent(this.element,"input",{origin:this.identifier}))}}],[{key:"create",value:function(t,i){var o=function(t){var o=t[a];o||(o=new e(t,i),t[a]=o)};t.length?Array.prototype.slice.call(t).forEach((function(e){o(e)})):o(t)}},{key:"_touchMoveScrollHandler",value:function(t){e.slidingVertically&&t.preventDefault()}}]),e}();(t.default=h).version="0.4.11",h.dom=s,h.functions=r,h.instances=[],h.slidingVertically=!1,e.exports=t.default},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.supportsRange=t.removeAllListenersFromEl=t.removeEventListeners=t.addEventListeners=t.insertAfter=t.triggerEvent=t.forEachAncestors=t.removeClass=t.addClass=t.hasClass=t.setCss=t.getDimension=t.getHiddenParentNodes=t.isHidden=t.detectIE=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(0)),s="eventListenerList",r=(t.detectIE=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(0<t)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(0<e.indexOf("Trident/")){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var o=e.indexOf("Edge/");return 0<o&&parseInt(e.substring(o+5,e.indexOf(".",o)),10)})(),n=!(!window.PointerEvent||r)&&{passive:!1},l=t.isHidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||!1===e.open},a=t.getHiddenParentNodes=function(e){for(var t=[],i=e.parentNode;i&&l(i);)t.push(i),i=i.parentNode;return t},c=(t.getDimension=function(e,t){var i=a(e),o=i.length,s=[],r=e[t],n=function(e){void 0!==e.open&&(e.open=!e.open)};if(o){for(var l=0;l<o;l++)s.push({display:i[l].style.display,height:i[l].style.height,overflow:i[l].style.overflow,visibility:i[l].style.visibility}),i[l].style.display="block",i[l].style.height="0",i[l].style.overflow="hidden",i[l].style.visibility="hidden",n(i[l]);r=e[t];for(var c=0;c<o;c++)n(i[c]),i[c].style.display=s[c].display,i[c].style.height=s[c].height,i[c].style.overflow=s[c].overflow,i[c].style.visibility=s[c].visibility}return r},t.setCss=function(e,t){for(var i in t)e.style[i]=t[i];return e.style},t.hasClass=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")});t.addClass=function(e,t){c(e,t)||(e.className+=" "+t)},t.removeClass=function(e,t){var i=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(c(e,t)){for(;0<=i.indexOf(" "+t+" ");)i=i.replace(" "+t+" "," ");e.className=i.replace(/^\s+|\s+$/g,"")}},t.forEachAncestors=function(e,t,i){for(i&&t(e);e.parentNode&&!t(e);)e=e.parentNode;return e},t.triggerEvent=function(e,t,i){if(!o.isString(t))throw new TypeError("event name must be String");if(!(e instanceof HTMLElement))throw new TypeError("element must be HTMLElement");t=t.trim();var s=document.createEvent("CustomEvent");s.initCustomEvent(t,!1,!1,i),e.dispatchEvent(s)},t.insertAfter=function(e,t){return e.parentNode.insertBefore(t,e.nextSibling)},t.addEventListeners=function(e,t,i){t.forEach((function(t){e[s]||(e[s]={}),e[s][t]||(e[s][t]=[]),e.addEventListener(t,i,n),e[s][t].indexOf(i)<0&&e[s][t].push(i)}))},t.removeEventListeners=function(e,t,i){t.forEach((function(t){var o=void 0;e.removeEventListener(t,i,!1),e[s]&&e[s][t]&&-1<(o=e[s][t].indexOf(i))&&e[s][t].splice(o,1)}))},t.removeAllListenersFromEl=function(e,t){if(t[s]){for(var i in t[s])t[s][i].forEach(o,{eventName:i,el:t});t[s]={}}function o(t){t===e._startEventListener&&this.el.removeEventListener(this.eventName,t,!1)}},t.supportsRange=function(){var e=document.createElement("input");return e.setAttribute("type","range"),"text"!==e.type}},function(e,t,i){}])}));const e=(e,i,o=100,s=700)=>({polyfill:!0,rangeClass:"rangeSlider",fillClass:"rangeSlider__fill",handleClass:"rangeSlider__handle",min:o,max:s,step:1,value:i||o,borderRadius:25,onSlide:i=>t(i,e)}),t=(e,t)=>{if(t.closest(".calc__range")){const i=t.closest(".calc__range").querySelector("span");i&&(i.textContent=e,l())}},i=document.querySelector("#scootersNumber");rangeSlider.create(i,e(i));const o=document.querySelector("#revenuePerScooter");rangeSlider.create(o,e(o,200,200))}if(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}((function(e){var t=!1,i=!1,o=0,s=2e3,r=0,n=e,l=document,a=window,c=n(a),d=[],u=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||!1,h=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||!1;if(u)a.cancelAnimationFrame||(h=function(e){});else{var p=0;u=function(e,t){var i=(new Date).getTime(),o=Math.max(0,16-(i-p)),s=a.setTimeout((function(){e(i+o)}),o);return p=i+o,s},h=function(e){a.clearTimeout(e)}}var f=a.MutationObserver||a.WebKitMutationObserver||!1,m=Date.now||function(){return(new Date).getTime()},v={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var e=l.currentScript||function(){var e=l.getElementsByTagName("script");return!!e.length&&e[e.length-1]}(),t=e?e.src.split("?")[0]:"";return t.split("/").length>0?t.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},g=!1,b=function(){if(g)return g;var e=l.createElement("DIV"),t=e.style,i=navigator.userAgent,o=navigator.platform,s={};return s.haspointerlock="pointerLockElement"in l||"webkitPointerLockElement"in l||"mozPointerLockElement"in l,s.isopera="opera"in a,s.isopera12=s.isopera&&"getUserMedia"in navigator,s.isoperamini="[object OperaMini]"===Object.prototype.toString.call(a.operamini),s.isie="all"in l&&"attachEvent"in e&&!s.isopera,s.isieold=s.isie&&!("msInterpolationMode"in t),s.isie7=s.isie&&!s.isieold&&(!("documentMode"in l)||7===l.documentMode),s.isie8=s.isie&&"documentMode"in l&&8===l.documentMode,s.isie9=s.isie&&"performance"in a&&9===l.documentMode,s.isie10=s.isie&&"performance"in a&&10===l.documentMode,s.isie11="msRequestFullscreen"in e&&l.documentMode>=11,s.ismsedge="msCredentials"in a,s.ismozilla="MozAppearance"in t,s.iswebkit=!s.ismsedge&&"WebkitAppearance"in t,s.ischrome=s.iswebkit&&"chrome"in a,s.ischrome38=s.ischrome&&"touchAction"in t,s.ischrome22=!s.ischrome38&&s.ischrome&&s.haspointerlock,s.ischrome26=!s.ischrome38&&s.ischrome&&"transition"in t,s.cantouch="ontouchstart"in l.documentElement||"ontouchstart"in a,s.hasw3ctouch=!!a.PointerEvent&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),s.hasmstouch=!s.hasw3ctouch&&(a.MSPointerEvent||!1),s.ismac=/^mac$/i.test(o),s.isios=s.cantouch&&/iphone|ipad|ipod/i.test(o),s.isios4=s.isios&&!("seal"in Object),s.isios7=s.isios&&"webkitHidden"in l,s.isios8=s.isios&&"hidden"in l,s.isios10=s.isios&&a.Proxy,s.isandroid=/android/i.test(i),s.haseventlistener="addEventListener"in e,s.trstyle=!1,s.hastransform=!1,s.hastranslate3d=!1,s.transitionstyle=!1,s.hastransition=!1,s.transitionend=!1,s.trstyle="transform",s.hastransform="transform"in t||function(){for(var e=["msTransform","webkitTransform","MozTransform","OTransform"],i=0,o=e.length;i<o;i++)if(void 0!==t[e[i]]){s.trstyle=e[i];break}s.hastransform=!!s.trstyle}(),s.hastransform&&(t[s.trstyle]="translate3d(1px,2px,3px)",s.hastranslate3d=/translate3d/.test(t[s.trstyle])),s.transitionstyle="transition",s.prefixstyle="",s.transitionend="transitionend",s.hastransition="transition"in t||function(){s.transitionend=!1;for(var e=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],i=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],o=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],r=0,n=e.length;r<n;r++)if(e[r]in t){s.transitionstyle=e[r],s.prefixstyle=i[r],s.transitionend=o[r];break}s.ischrome26&&(s.prefixstyle=i[1]),s.hastransition=s.transitionstyle}(),s.cursorgrabvalue=function(){var e=["grab","-webkit-grab","-moz-grab"];(s.ischrome&&!s.ischrome38||s.isie)&&(e=[]);for(var i=0,o=e.length;i<o;i++){var r=e[i];if(t.cursor=r,t.cursor==r)return r}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),s.hasmousecapture="setCapture"in e,s.hasMutationObserver=!1!==f,e=null,g=s,s},w=function(e,p){function g(){var e=k.doc.css(L.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function w(e,t,i){var o=e.css(t),s=parseFloat(o);if(isNaN(s)){var r=3==(s=P[o]||0)?i?k.win.outerHeight()-k.win.innerHeight():k.win.outerWidth()-k.win.innerWidth():1;return k.isie8&&s&&(s+=1),r?s:0}return s}function x(e,t,i,o){k._bind(e,t,(function(o){var s={original:o=o||a.event,target:o.target||o.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==o.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return o.preventDefault?o.preventDefault():o.returnValue=!1,!1},stopImmediatePropagation:function(){o.stopImmediatePropagation?o.stopImmediatePropagation():o.cancelBubble=!0}};return"mousewheel"==t?(o.wheelDeltaX&&(s.deltaX=-.025*o.wheelDeltaX),o.wheelDeltaY&&(s.deltaY=-.025*o.wheelDeltaY),!s.deltaY&&!s.deltaX&&(s.deltaY=-.025*o.wheelDelta)):s.deltaY=o.detail,i.call(e,s)}),o)}function S(e,t,i,o){k.scrollrunning||(k.newscrolly=k.getScrollTop(),k.newscrollx=k.getScrollLeft(),H=m());var s=m()-H;if(H=m(),s>350?X=1:X+=(2-X)/10,t=t*X|0,e=e*X|0){if(o)if(e<0){if(k.getScrollLeft()>=k.page.maxw)return!0}else if(k.getScrollLeft()<=0)return!0;var r=e>0?1:-1;I!==r&&(k.scrollmom&&k.scrollmom.stop(),k.newscrollx=k.getScrollLeft(),I=r),k.lastdeltax-=e}if(t){if(function(){var e=k.getScrollTop();if(t<0){if(e>=k.page.maxh)return!0}else if(e<=0)return!0}()){if(z.nativeparentscrolling&&i&&!k.ispage&&!k.zoomactive)return!0;var n=k.view.h>>1;k.newscrolly<-n?(k.newscrolly=-n,t=-1):k.newscrolly>k.page.maxh+n?(k.newscrolly=k.page.maxh+n,t=1):t=0}var l=t>0?1:-1;F!==l&&(k.scrollmom&&k.scrollmom.stop(),k.newscrolly=k.getScrollTop(),F=l),k.lastdeltay-=t}(t||e)&&k.synched("relativexy",(function(){var e=k.lastdeltay+k.newscrolly;k.lastdeltay=0;var t=k.lastdeltax+k.newscrollx;k.lastdeltax=0,k.rail.drag||k.doScrollPos(t,e)}))}function _(e,t,i){var o,s;return!(i||!q)||(0===e.deltaMode?(o=-e.deltaX*(z.mousescrollstep/54)|0,s=-e.deltaY*(z.mousescrollstep/54)|0):1===e.deltaMode&&(o=-e.deltaX*z.mousescrollstep*50/80|0,s=-e.deltaY*z.mousescrollstep*50/80|0),t&&z.oneaxismousemode&&0===o&&s&&(o=s,s=0,i&&(o<0?k.getScrollLeft()>=k.page.maxw:k.getScrollLeft()<=0)&&(s=o,o=0)),k.isrtlmode&&(o=-o),S(o,s,i,!0)?void(i&&(q=!0)):(q=!1,e.stopImmediatePropagation(),e.preventDefault()))}var k=this;this.version="3.7.6",this.name="nicescroll",this.me=p;var E=n("body"),z=this.opt={doc:E,win:!1};if(n.extend(z,v),z.snapbackspeed=80,e)for(var T in z)void 0!==e[T]&&(z[T]=e[T]);if(z.disablemutationobserver&&(f=!1),this.doc=z.doc,this.iddoc=this.doc&&this.doc[0]&&this.doc[0].id||"",this.ispage=/^BODY|HTML/.test(z.win?z.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==z.win,this.win=z.win||(this.ispage?c:this.doc),this.docscroll=this.ispage&&!this.haswrapper?c:this.win,this.body=E,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=z.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==z.rtlmode){var C=this.win[0]==a?this.body:this.win,$=C.css("writing-mode")||C.css("-webkit-writing-mode")||C.css("-ms-writing-mode")||C.css("-moz-writing-mode");"horizontal-tb"==$||"lr-tb"==$||""===$?(this.isrtlmode="rtl"==C.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==$||"tb"==$||"tb-rl"==$||"rl-tb"==$,this.isvertical="vertical-rl"==$||"tb"==$||"tb-rl"==$)}else this.isrtlmode=!0===z.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1!==z.scrollbarid)this.id=z.scrollbarid;else do{this.id="ascrail"+s++}while(l.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=z.overflowx,this.overflowy=z.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=b();var L=n.extend({},this.detected);this.canhwscroll=L.hastransform&&z.hwacceleration,this.ishwscroll=this.canhwscroll&&k.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(L.iswebkit||L.isie||L.isie11):this.hasreversehr=!(L.iswebkit||L.isie&&!L.isie10&&!L.isie11):this.hasreversehr=!1,this.istouchcapable=!1,(L.cantouch||!L.hasw3ctouch&&!L.hasmstouch)&&(!L.cantouch||L.isios||L.isandroid||!L.iswebkit&&!L.ismozilla)||(this.istouchcapable=!0),z.enablemouselockapi||(L.hasmousecapture=!1,L.haspointerlock=!1),this.debounced=function(e,t,i){k&&(k.delaylist[e]||(k.delaylist[e]={h:u((function(){k.delaylist[e].fn.call(k),k.delaylist[e]=!1}),i)},t.call(k)),k.delaylist[e].fn=t)},this.synched=function(e,t){k.synclist[e]?k.synclist[e]=t:(k.synclist[e]=t,u((function(){k&&(k.synclist[e]&&k.synclist[e].call(k),k.synclist[e]=null)})))},this.unsynched=function(e){k.synclist[e]&&(k.synclist[e]=!1)},this.css=function(e,t){for(var i in t)k.saved.css.push([e,i,e.css(i)]),e.css(i,t[i])},this.scrollTop=function(e){return void 0===e?k.getScrollTop():k.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?k.getScrollLeft():k.setScrollLeft(e)};var M=function(e,t,i,o,s,r,n){this.st=e,this.ed=t,this.spd=i,this.p1=o||0,this.p2=s||1,this.p3=r||0,this.p4=n||1,this.ts=m(),this.df=t-e};if(M.prototype={B2:function(e){return 3*(1-e)*(1-e)*e},B3:function(e){return 3*(1-e)*e*e},B4:function(e){return e*e*e},getPos:function(){return(m()-this.ts)/this.spd},getNow:function(){var e=(m()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return e>=1?this.ed:this.st+this.df*t|0},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=m(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},L.hastranslate3d&&L.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){var t=g();if(t)return 16==t.length?-t[13]:-t[5];if(k.timerscroll&&k.timerscroll.bz)return k.timerscroll.bz.getNow()}return k.doc.translate.y},this.getScrollLeft=function(e){if(!e){var t=g();if(t)return 16==t.length?-t[12]:-t[4];if(k.timerscroll&&k.timerscroll.bh)return k.timerscroll.bh.getNow()}return k.doc.translate.x},this.notifyScrollEvent=function(e){var t=l.createEvent("UIEvents");t.initUIEvent("scroll",!1,!1,a,1),t.niceevent=!0,e.dispatchEvent(t)};var N=this.isrtlmode?1:-1;L.hastranslate3d&&z.enabletranslate3d?(this.setScrollTop=function(e,t){k.doc.translate.y=e,k.doc.translate.ty=-1*e+"px",k.doc.css(L.trstyle,"translate3d("+k.doc.translate.tx+","+k.doc.translate.ty+",0)"),t||k.notifyScrollEvent(k.win[0])},this.setScrollLeft=function(e,t){k.doc.translate.x=e,k.doc.translate.tx=e*N+"px",k.doc.css(L.trstyle,"translate3d("+k.doc.translate.tx+","+k.doc.translate.ty+",0)"),t||k.notifyScrollEvent(k.win[0])}):(this.setScrollTop=function(e,t){k.doc.translate.y=e,k.doc.translate.ty=-1*e+"px",k.doc.css(L.trstyle,"translate("+k.doc.translate.tx+","+k.doc.translate.ty+")"),t||k.notifyScrollEvent(k.win[0])},this.setScrollLeft=function(e,t){k.doc.translate.x=e,k.doc.translate.tx=e*N+"px",k.doc.css(L.trstyle,"translate("+k.doc.translate.tx+","+k.doc.translate.ty+")"),t||k.notifyScrollEvent(k.win[0])})}else this.getScrollTop=function(){return k.docscroll.scrollTop()},this.setScrollTop=function(e){k.docscroll.scrollTop(e)},this.getScrollLeft=function(){return k.hasreversehr?k.detected.ismozilla?k.page.maxw-Math.abs(k.docscroll.scrollLeft()):k.page.maxw-k.docscroll.scrollLeft():k.docscroll.scrollLeft()},this.setScrollLeft=function(e){return setTimeout((function(){if(k)return k.hasreversehr&&(e=k.detected.ismozilla?-(k.page.maxw-e):k.page.maxw-e),k.docscroll.scrollLeft(e)}),1)};this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,t){if(!e)return!1;for(var i=e.target||e.srcElement||e||!1;i&&i.id!=t;)i=i.parentNode||!1;return!1!==i};var P={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:a.pageYOffset||l.documentElement.scrollTop,left:a.pageXOffset||l.documentElement.scrollLeft}},this.getOffset=function(){if(k.isfixed){var e=k.win.offset(),t=k.getDocumentScrollOffset();return e.top-=t.top,e.left-=t.left,e}var i=k.win.offset();if(!k.viewport)return i;var o=k.viewport.offset();return{top:i.top-o.top,left:i.left-o.left}},this.updateScrollBar=function(e){var t,i;if(k.ishwscroll)k.rail.css({height:k.win.innerHeight()-(z.railpadding.top+z.railpadding.bottom)}),k.railh&&k.railh.css({width:k.win.innerWidth()-(z.railpadding.left+z.railpadding.right)});else{var o=k.getOffset();if((t={top:o.top,left:o.left-(z.railpadding.left+z.railpadding.right)}).top+=w(k.win,"border-top-width",!0),t.left+=k.rail.align?k.win.outerWidth()-w(k.win,"border-right-width")-k.rail.width:w(k.win,"border-left-width"),(i=z.railoffset)&&(i.top&&(t.top+=i.top),i.left&&(t.left+=i.left)),k.railslocked||k.rail.css({top:t.top,left:t.left,height:(e?e.h:k.win.innerHeight())-(z.railpadding.top+z.railpadding.bottom)}),k.zoom&&k.zoom.css({top:t.top+1,left:1==k.rail.align?t.left-20:t.left+k.rail.width+4}),k.railh&&!k.railslocked){t={top:o.top,left:o.left},(i=z.railhoffset)&&(i.top&&(t.top+=i.top),i.left&&(t.left+=i.left));var s=k.railh.align?t.top+w(k.win,"border-top-width",!0)+k.win.innerHeight()-k.railh.height:t.top+w(k.win,"border-top-width",!0),r=t.left+w(k.win,"border-left-width");k.railh.css({top:s-(z.railpadding.top+z.railpadding.bottom),left:r,width:k.railh.width})}}},this.doRailClick=function(e,t,i){var o,s,r,n;k.railslocked||(k.cancelEvent(e),"pageY"in e||(e.pageX=e.clientX+l.documentElement.scrollLeft,e.pageY=e.clientY+l.documentElement.scrollTop),t?(o=i?k.doScrollLeft:k.doScrollTop,r=i?(e.pageX-k.railh.offset().left-k.cursorwidth/2)*k.scrollratio.x:(e.pageY-k.rail.offset().top-k.cursorheight/2)*k.scrollratio.y,k.unsynched("relativexy"),o(0|r)):(o=i?k.doScrollLeftBy:k.doScrollBy,r=i?k.scroll.x:k.scroll.y,n=i?e.pageX-k.railh.offset().left:e.pageY-k.rail.offset().top,s=i?k.view.w:k.view.h,o(r>=n?s:-s)))},k.newscrolly=k.newscrollx=0,k.hasanimationframe="requestAnimationFrame"in a,k.hascancelanimationframe="cancelAnimationFrame"in a,k.hasborderbox=!1,this.init=function(){if(k.saved.css=[],L.isoperamini)return!0;if(L.isandroid&&!("hidden"in l))return!0;z.emulatetouch=z.emulatetouch||z.touchbehavior,k.hasborderbox=a.getComputedStyle&&"border-box"===a.getComputedStyle(l.body)["box-sizing"];var e={"overflow-y":"hidden"};if((L.isie11||L.isie10)&&(e["-ms-overflow-style"]="none"),k.ishwscroll&&(this.doc.css(L.transitionstyle,L.prefixstyle+"transform 0ms ease-out"),L.transitionend&&k.bind(k.doc,L.transitionend,k.onScrollTransitionEnd,!1)),k.zindex="auto",k.ispage||"auto"!=z.zindex?k.zindex=z.zindex:k.zindex=function(){var e=k.win;if("zIndex"in e)return e.zIndex();for(;e.length>0;){if(9==e[0].nodeType)return!1;var t=e.css("zIndex");if(!isNaN(t)&&0!==t)return parseInt(t);e=e.parent()}return!1}()||"auto",!k.ispage&&"auto"!=k.zindex&&k.zindex>r&&(r=k.zindex),k.isie&&0===k.zindex&&"auto"==z.zindex&&(k.zindex="auto"),!k.ispage||!L.isieold){var s=k.docscroll;k.ispage&&(s=k.haswrapper?k.win:k.doc),k.css(s,e),k.ispage&&(L.isie11||L.isie)&&k.css(n("html"),e),!L.isios||k.ispage||k.haswrapper||k.css(E,{"-webkit-overflow-scrolling":"touch"});var d=n(l.createElement("div"));d.css({position:"relative",top:0,float:"right",width:z.cursorwidth,height:0,"background-color":z.cursorcolor,border:z.cursorborder,"background-clip":"padding-box","-webkit-border-radius":z.cursorborderradius,"-moz-border-radius":z.cursorborderradius,"border-radius":z.cursorborderradius}),d.addClass("nicescroll-cursors"),k.cursor=d;var u=n(l.createElement("div"));u.attr("id",k.id),u.addClass("nicescroll-rails nicescroll-rails-vr");var h,p,m=["left","right","top","bottom"];for(var v in m)p=m[v],(h=z.railpadding[p]||0)&&u.css("padding-"+p,h+"px");u.append(d),u.width=Math.max(parseFloat(z.cursorwidth),d.outerWidth()),u.css({width:u.width+"px",zIndex:k.zindex,background:z.background,cursor:"default"}),u.visibility=!0,u.scrollable=!0,u.align="left"==z.railalign?0:1,k.rail=u,k.rail.drag=!1;var g,b=!1;if(!z.boxzoom||k.ispage||L.isieold||(b=l.createElement("div"),k.bind(b,"click",k.doZoom),k.bind(b,"mouseenter",(function(){k.zoom.css("opacity",z.cursoropacitymax)})),k.bind(b,"mouseleave",(function(){k.zoom.css("opacity",z.cursoropacitymin)})),k.zoom=n(b),k.zoom.css({cursor:"pointer",zIndex:k.zindex,backgroundImage:"url("+z.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),z.dblclickzoom&&k.bind(k.win,"dblclick",k.doZoom),L.cantouch&&z.gesturezoom&&(k.ongesturezoom=function(e){return e.scale>1.5&&k.doZoomIn(e),e.scale<.8&&k.doZoomOut(e),k.cancelEvent(e)},k.bind(k.win,"gestureend",k.ongesturezoom))),k.railh=!1,z.horizrailenabled&&(k.css(s,{overflowX:"hidden"}),(d=n(l.createElement("div"))).css({position:"absolute",top:0,height:z.cursorwidth,width:0,backgroundColor:z.cursorcolor,border:z.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":z.cursorborderradius,"-moz-border-radius":z.cursorborderradius,"border-radius":z.cursorborderradius}),L.isieold&&d.css("overflow","hidden"),d.addClass("nicescroll-cursors"),k.cursorh=d,(g=n(l.createElement("div"))).attr("id",k.id+"-hr"),g.addClass("nicescroll-rails nicescroll-rails-hr"),g.height=Math.max(parseFloat(z.cursorwidth),d.outerHeight()),g.css({height:g.height+"px",zIndex:k.zindex,background:z.background}),g.append(d),g.visibility=!0,g.scrollable=!0,g.align="top"==z.railvalign?0:1,k.railh=g,k.railh.drag=!1),k.ispage)u.css({position:"fixed",top:0,height:"100%"}),u.css(u.align?{right:0}:{left:0}),k.body.append(u),k.railh&&(g.css({position:"fixed",left:0,width:"100%"}),g.css(g.align?{bottom:0}:{top:0}),k.body.append(g));else{if(k.ishwscroll){"static"==k.win.css("position")&&k.css(k.win,{position:"relative"});var w="HTML"==k.win[0].nodeName?k.body:k.win;n(w).scrollTop(0).scrollLeft(0),k.zoom&&(k.zoom.css({position:"absolute",top:1,right:0,"margin-right":u.width+4}),w.append(k.zoom)),u.css({position:"absolute",top:0}),u.css(u.align?{right:0}:{left:0}),w.append(u),g&&(g.css({position:"absolute",left:0,bottom:0}),g.css(g.align?{bottom:0}:{top:0}),w.append(g))}else{k.isfixed="fixed"==k.win.css("position");var x=k.isfixed?"fixed":"absolute";k.isfixed||(k.viewport=k.getViewport(k.win[0])),k.viewport&&(k.body=k.viewport,/fixed|absolute/.test(k.viewport.css("position"))||k.css(k.viewport,{position:"relative"})),u.css({position:x}),k.zoom&&k.zoom.css({position:x}),k.updateScrollBar(),k.body.append(u),k.zoom&&k.body.append(k.zoom),k.railh&&(g.css({position:x}),k.body.append(g))}L.isios&&k.css(k.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),z.disableoutline&&(L.isie&&k.win.attr("hideFocus","true"),L.iswebkit&&k.win.css("outline","none"))}if(!1===z.autohidemode?(k.autohidedom=!1,k.rail.css({opacity:z.cursoropacitymax}),k.railh&&k.railh.css({opacity:z.cursoropacitymax})):!0===z.autohidemode||"leave"===z.autohidemode?(k.autohidedom=n().add(k.rail),L.isie8&&(k.autohidedom=k.autohidedom.add(k.cursor)),k.railh&&(k.autohidedom=k.autohidedom.add(k.railh)),k.railh&&L.isie8&&(k.autohidedom=k.autohidedom.add(k.cursorh))):"scroll"==z.autohidemode?(k.autohidedom=n().add(k.rail),k.railh&&(k.autohidedom=k.autohidedom.add(k.railh))):"cursor"==z.autohidemode?(k.autohidedom=n().add(k.cursor),k.railh&&(k.autohidedom=k.autohidedom.add(k.cursorh))):"hidden"==z.autohidemode&&(k.autohidedom=!1,k.hide(),k.railslocked=!1),L.cantouch||k.istouchcapable||z.emulatetouch||L.hasmstouch){k.scrollmom=new y(k),k.ontouchstart=function(e){if(k.locked)return!1;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;if(k.hasmoving=!1,k.scrollmom.timer&&(k.triggerScrollEnd(),k.scrollmom.stop()),!k.railslocked){var t=k.getTarget(e);if(t&&/INPUT/i.test(t.nodeName)&&/range/i.test(t.type))return k.stopPropagation(e);var i="mousedown"===e.type;if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),k.forcescreen){var o=e;(e={original:e.original?e.original:e}).clientX=o.screenX,e.clientY=o.screenY}if(k.rail.drag={x:e.clientX,y:e.clientY,sx:k.scroll.x,sy:k.scroll.y,st:k.getScrollTop(),sl:k.getScrollLeft(),pt:2,dl:!1,tg:t},k.ispage||!z.directionlockdeadzone)k.rail.drag.dl="f";else{var s={w:c.width(),h:c.height()},r=k.getContentSize(),l=r.h-s.h,a=r.w-s.w;k.rail.scrollable&&!k.railh.scrollable?k.rail.drag.ck=l>0&&"v":!k.rail.scrollable&&k.railh.scrollable?k.rail.drag.ck=a>0&&"h":k.rail.drag.ck=!1}if(z.emulatetouch&&k.isiframe&&L.isie){var d=k.win.position();k.rail.drag.x+=d.left,k.rail.drag.y+=d.top}if(k.hasmoving=!1,k.lastmouseup=!1,k.scrollmom.reset(e.clientX,e.clientY),t&&i){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(t.nodeName))return L.hasmousecapture&&t.setCapture(),z.emulatetouch?(t.onclick&&!t._onclick&&(t._onclick=t.onclick,t.onclick=function(e){if(k.hasmoving)return!1;t._onclick.call(this,e)}),k.cancelEvent(e)):k.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(n(t).attr("type"))&&(k.preventclick={tg:t,click:!1})}}},k.ontouchend=function(e){if(!k.rail.drag)return!0;if(2==k.rail.drag.pt){if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;k.rail.drag=!1;var t="mouseup"===e.type;if(k.hasmoving&&(k.scrollmom.doMomentum(),k.lastmouseup=!0,k.hideCursor(),L.hasmousecapture&&l.releaseCapture(),t))return k.cancelEvent(e)}else if(1==k.rail.drag.pt)return k.onmouseup(e)};var S=z.emulatetouch&&k.isiframe&&!L.hasmousecapture,_=.3*z.directionlockdeadzone|0;k.ontouchmove=function(e,t){if(!k.rail.drag)return!0;if(e.targetTouches&&z.preventmultitouchscrolling&&e.targetTouches.length>1)return!0;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!0;if(2==k.rail.drag.pt){var i,o;if("changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),o=i=0,S&&!t){var s=k.win.position();o=-s.left,i=-s.top}var r=e.clientY+i,n=r-k.rail.drag.y,a=e.clientX+o,c=a-k.rail.drag.x,d=k.rail.drag.st-n;if(k.ishwscroll&&z.bouncescroll)d<0?d=Math.round(d/2):d>k.page.maxh&&(d=k.page.maxh+Math.round((d-k.page.maxh)/2));else if(d<0?(d=0,r=0):d>k.page.maxh&&(d=k.page.maxh,r=0),0===r&&!k.hasmoving)return k.ispage||(k.rail.drag=!1),!0;var u=k.getScrollLeft();if(k.railh&&k.railh.scrollable&&(u=k.isrtlmode?c-k.rail.drag.sl:k.rail.drag.sl-c,k.ishwscroll&&z.bouncescroll?u<0?u=Math.round(u/2):u>k.page.maxw&&(u=k.page.maxw+Math.round((u-k.page.maxw)/2)):(u<0&&(u=0,a=0),u>k.page.maxw&&(u=k.page.maxw,a=0))),!k.hasmoving){if(k.rail.drag.y===e.clientY&&k.rail.drag.x===e.clientX)return k.cancelEvent(e);var h=Math.abs(n),p=Math.abs(c),f=z.directionlockdeadzone;if(k.rail.drag.ck?"v"==k.rail.drag.ck?p>f&&h<=_?k.rail.drag=!1:h>f&&(k.rail.drag.dl="v"):"h"==k.rail.drag.ck&&(h>f&&p<=_?k.rail.drag=!1:p>f&&(k.rail.drag.dl="h")):h>f&&p>f?k.rail.drag.dl="f":h>f?k.rail.drag.dl=p>_?"f":"v":p>f&&(k.rail.drag.dl=h>_?"f":"h"),!k.rail.drag.dl)return k.cancelEvent(e);k.triggerScrollStart(e.clientX,e.clientY,0,0,0),k.hasmoving=!0}return k.preventclick&&!k.preventclick.click&&(k.preventclick.click=k.preventclick.tg.onclick||!1,k.preventclick.tg.onclick=k.onpreventclick),k.rail.drag.dl&&("v"==k.rail.drag.dl?u=k.rail.drag.sl:"h"==k.rail.drag.dl&&(d=k.rail.drag.st)),k.synched("touchmove",(function(){k.rail.drag&&2==k.rail.drag.pt&&(k.prepareTransition&&k.resetTransition(),k.rail.scrollable&&k.setScrollTop(d),k.scrollmom.update(a,r),k.railh&&k.railh.scrollable?(k.setScrollLeft(u),k.showCursor(d,u)):k.showCursor(d),L.isie10&&l.selection.clear())})),k.cancelEvent(e)}return 1==k.rail.drag.pt?k.onmousemove(e):void 0},k.ontouchstartCursor=function(e,t){if(!k.rail.drag||3==k.rail.drag.pt){if(k.locked)return k.cancelEvent(e);k.cancelScroll(),k.rail.drag={x:e.touches[0].clientX,y:e.touches[0].clientY,sx:k.scroll.x,sy:k.scroll.y,pt:3,hr:!!t};var i=k.getTarget(e);return!k.ispage&&L.hasmousecapture&&i.setCapture(),k.isiframe&&!L.hasmousecapture&&(k.saved.csspointerevents=k.doc.css("pointer-events"),k.css(k.doc,{"pointer-events":"none"})),k.cancelEvent(e)}},k.ontouchendCursor=function(e){if(k.rail.drag){if(L.hasmousecapture&&l.releaseCapture(),k.isiframe&&!L.hasmousecapture&&k.doc.css("pointer-events",k.saved.csspointerevents),3!=k.rail.drag.pt)return;return k.rail.drag=!1,k.cancelEvent(e)}},k.ontouchmoveCursor=function(e){if(k.rail.drag){if(3!=k.rail.drag.pt)return;if(k.cursorfreezed=!0,k.rail.drag.hr){k.scroll.x=k.rail.drag.sx+(e.touches[0].clientX-k.rail.drag.x),k.scroll.x<0&&(k.scroll.x=0);var t=k.scrollvaluemaxw;k.scroll.x>t&&(k.scroll.x=t)}else{k.scroll.y=k.rail.drag.sy+(e.touches[0].clientY-k.rail.drag.y),k.scroll.y<0&&(k.scroll.y=0);var i=k.scrollvaluemax;k.scroll.y>i&&(k.scroll.y=i)}return k.synched("touchmove",(function(){k.rail.drag&&3==k.rail.drag.pt&&(k.showCursor(),k.rail.drag.hr?k.doScrollLeft(Math.round(k.scroll.x*k.scrollratio.x),z.cursordragspeed):k.doScrollTop(Math.round(k.scroll.y*k.scrollratio.y),z.cursordragspeed))})),k.cancelEvent(e)}}}if(k.onmousedown=function(e,t){if(!k.rail.drag||1==k.rail.drag.pt){if(k.railslocked)return k.cancelEvent(e);k.cancelScroll(),k.rail.drag={x:e.clientX,y:e.clientY,sx:k.scroll.x,sy:k.scroll.y,pt:1,hr:t||!1};var i=k.getTarget(e);return L.hasmousecapture&&i.setCapture(),k.isiframe&&!L.hasmousecapture&&(k.saved.csspointerevents=k.doc.css("pointer-events"),k.css(k.doc,{"pointer-events":"none"})),k.hasmoving=!1,k.cancelEvent(e)}},k.onmouseup=function(e){if(k.rail.drag)return 1!=k.rail.drag.pt||(L.hasmousecapture&&l.releaseCapture(),k.isiframe&&!L.hasmousecapture&&k.doc.css("pointer-events",k.saved.csspointerevents),k.rail.drag=!1,k.cursorfreezed=!1,k.hasmoving&&k.triggerScrollEnd(),k.cancelEvent(e))},k.onmousemove=function(e){if(k.rail.drag){if(1!==k.rail.drag.pt)return;if(L.ischrome&&0===e.which)return k.onmouseup(e);if(k.cursorfreezed=!0,k.hasmoving||k.triggerScrollStart(e.clientX,e.clientY,0,0,0),k.hasmoving=!0,k.rail.drag.hr){k.scroll.x=k.rail.drag.sx+(e.clientX-k.rail.drag.x),k.scroll.x<0&&(k.scroll.x=0);var t=k.scrollvaluemaxw;k.scroll.x>t&&(k.scroll.x=t)}else{k.scroll.y=k.rail.drag.sy+(e.clientY-k.rail.drag.y),k.scroll.y<0&&(k.scroll.y=0);var i=k.scrollvaluemax;k.scroll.y>i&&(k.scroll.y=i)}return k.synched("mousemove",(function(){k.cursorfreezed&&(k.showCursor(),k.rail.drag.hr?k.scrollLeft(Math.round(k.scroll.x*k.scrollratio.x)):k.scrollTop(Math.round(k.scroll.y*k.scrollratio.y)))})),k.cancelEvent(e)}k.checkarea=0},L.cantouch||z.emulatetouch)k.onpreventclick=function(e){if(k.preventclick)return k.preventclick.tg.onclick=k.preventclick.click,k.preventclick=!1,k.cancelEvent(e)},k.onclick=!L.isios&&function(e){return!k.lastmouseup||(k.lastmouseup=!1,k.cancelEvent(e))},z.grabcursorenabled&&L.cursorgrabvalue&&(k.css(k.ispage?k.doc:k.win,{cursor:L.cursorgrabvalue}),k.css(k.rail,{cursor:L.cursorgrabvalue}));else{var T=function(e){if(k.selectiondrag){if(e){var t=k.win.outerHeight(),i=e.pageY-k.selectiondrag.top;i>0&&i<t&&(i=0),i>=t&&(i-=t),k.selectiondrag.df=i}if(0!==k.selectiondrag.df){var o=-2*k.selectiondrag.df/6|0;k.doScrollBy(o),k.debounced("doselectionscroll",(function(){T()}),50)}}};k.hasTextSelected="getSelection"in l?function(){return l.getSelection().rangeCount>0}:"selection"in l?function(){return"None"!=l.selection.type}:function(){return!1},k.onselectionstart=function(e){k.ispage||(k.selectiondrag=k.win.offset())},k.onselectionend=function(e){k.selectiondrag=!1},k.onselectiondrag=function(e){k.selectiondrag&&k.hasTextSelected()&&k.debounced("selectionscroll",(function(){T(e)}),250)}}if(L.hasw3ctouch?(k.css(k.ispage?n("html"):k.win,{"touch-action":"none"}),k.css(k.rail,{"touch-action":"none"}),k.css(k.cursor,{"touch-action":"none"}),k.bind(k.win,"pointerdown",k.ontouchstart),k.bind(l,"pointerup",k.ontouchend),k.delegate(l,"pointermove",k.ontouchmove)):L.hasmstouch?(k.css(k.ispage?n("html"):k.win,{"-ms-touch-action":"none"}),k.css(k.rail,{"-ms-touch-action":"none"}),k.css(k.cursor,{"-ms-touch-action":"none"}),k.bind(k.win,"MSPointerDown",k.ontouchstart),k.bind(l,"MSPointerUp",k.ontouchend),k.delegate(l,"MSPointerMove",k.ontouchmove),k.bind(k.cursor,"MSGestureHold",(function(e){e.preventDefault()})),k.bind(k.cursor,"contextmenu",(function(e){e.preventDefault()}))):L.cantouch&&(k.bind(k.win,"touchstart",k.ontouchstart,!1,!0),k.bind(l,"touchend",k.ontouchend,!1,!0),k.bind(l,"touchcancel",k.ontouchend,!1,!0),k.delegate(l,"touchmove",k.ontouchmove,!1,!0)),z.emulatetouch&&(k.bind(k.win,"mousedown",k.ontouchstart,!1,!0),k.bind(l,"mouseup",k.ontouchend,!1,!0),k.bind(l,"mousemove",k.ontouchmove,!1,!0)),(z.cursordragontouch||!L.cantouch&&!z.emulatetouch)&&(k.rail.css({cursor:"default"}),k.railh&&k.railh.css({cursor:"default"}),k.jqbind(k.rail,"mouseenter",(function(){if(!k.ispage&&!k.win.is(":visible"))return!1;k.canshowonmouseevent&&k.showCursor(),k.rail.active=!0})),k.jqbind(k.rail,"mouseleave",(function(){k.rail.active=!1,k.rail.drag||k.hideCursor()})),z.sensitiverail&&(k.bind(k.rail,"click",(function(e){k.doRailClick(e,!1,!1)})),k.bind(k.rail,"dblclick",(function(e){k.doRailClick(e,!0,!1)})),k.bind(k.cursor,"click",(function(e){k.cancelEvent(e)})),k.bind(k.cursor,"dblclick",(function(e){k.cancelEvent(e)}))),k.railh&&(k.jqbind(k.railh,"mouseenter",(function(){if(!k.ispage&&!k.win.is(":visible"))return!1;k.canshowonmouseevent&&k.showCursor(),k.rail.active=!0})),k.jqbind(k.railh,"mouseleave",(function(){k.rail.active=!1,k.rail.drag||k.hideCursor()})),z.sensitiverail&&(k.bind(k.railh,"click",(function(e){k.doRailClick(e,!1,!0)})),k.bind(k.railh,"dblclick",(function(e){k.doRailClick(e,!0,!0)})),k.bind(k.cursorh,"click",(function(e){k.cancelEvent(e)})),k.bind(k.cursorh,"dblclick",(function(e){k.cancelEvent(e)}))))),z.cursordragontouch&&(this.istouchcapable||L.cantouch)&&(k.bind(k.cursor,"touchstart",k.ontouchstartCursor),k.bind(k.cursor,"touchmove",k.ontouchmoveCursor),k.bind(k.cursor,"touchend",k.ontouchendCursor),k.cursorh&&k.bind(k.cursorh,"touchstart",(function(e){k.ontouchstartCursor(e,!0)})),k.cursorh&&k.bind(k.cursorh,"touchmove",k.ontouchmoveCursor),k.cursorh&&k.bind(k.cursorh,"touchend",k.ontouchendCursor)),z.emulatetouch||L.isandroid||L.isios?(k.bind(L.hasmousecapture?k.win:l,"mouseup",k.ontouchend),k.onclick&&k.bind(l,"click",k.onclick),z.cursordragontouch?(k.bind(k.cursor,"mousedown",k.onmousedown),k.bind(k.cursor,"mouseup",k.onmouseup),k.cursorh&&k.bind(k.cursorh,"mousedown",(function(e){k.onmousedown(e,!0)})),k.cursorh&&k.bind(k.cursorh,"mouseup",k.onmouseup)):(k.bind(k.rail,"mousedown",(function(e){e.preventDefault()})),k.railh&&k.bind(k.railh,"mousedown",(function(e){e.preventDefault()})))):(k.bind(L.hasmousecapture?k.win:l,"mouseup",k.onmouseup),k.bind(l,"mousemove",k.onmousemove),k.onclick&&k.bind(l,"click",k.onclick),k.bind(k.cursor,"mousedown",k.onmousedown),k.bind(k.cursor,"mouseup",k.onmouseup),k.railh&&(k.bind(k.cursorh,"mousedown",(function(e){k.onmousedown(e,!0)})),k.bind(k.cursorh,"mouseup",k.onmouseup)),!k.ispage&&z.enablescrollonselection&&(k.bind(k.win[0],"mousedown",k.onselectionstart),k.bind(l,"mouseup",k.onselectionend),k.bind(k.cursor,"mouseup",k.onselectionend),k.cursorh&&k.bind(k.cursorh,"mouseup",k.onselectionend),k.bind(l,"mousemove",k.onselectiondrag)),k.zoom&&(k.jqbind(k.zoom,"mouseenter",(function(){k.canshowonmouseevent&&k.showCursor(),k.rail.active=!0})),k.jqbind(k.zoom,"mouseleave",(function(){k.rail.active=!1,k.rail.drag||k.hideCursor()})))),z.enablemousewheel&&(k.isiframe||k.mousewheel(L.isie&&k.ispage?l:k.win,k.onmousewheel),k.mousewheel(k.rail,k.onmousewheel),k.railh&&k.mousewheel(k.railh,k.onmousewheelhr)),k.ispage||L.cantouch||/HTML|^BODY/.test(k.win[0].nodeName)||(k.win.attr("tabindex")||k.win.attr({tabindex:++o}),k.bind(k.win,"focus",(function(e){t=k.getTarget(e).id||k.getTarget(e)||!1,k.hasfocus=!0,k.canshowonmouseevent&&k.noticeCursor()})),k.bind(k.win,"blur",(function(e){t=!1,k.hasfocus=!1})),k.bind(k.win,"mouseenter",(function(e){i=k.getTarget(e).id||k.getTarget(e)||!1,k.hasmousefocus=!0,k.canshowonmouseevent&&k.noticeCursor()})),k.bind(k.win,"mouseleave",(function(e){i=!1,k.hasmousefocus=!1,k.rail.drag||k.hideCursor()}))),k.onkeypress=function(e){if(k.railslocked&&0===k.page.maxh)return!0;e=e||a.event;var o=k.getTarget(e);if(o&&/INPUT|TEXTAREA|SELECT|OPTION/.test(o.nodeName)&&(!o.getAttribute("type")&&!o.type||!/submit|button|cancel/i.tp))return!0;if(n(o).attr("contenteditable"))return!0;if(k.hasfocus||k.hasmousefocus&&!t||k.ispage&&!t&&!i){var s=e.keyCode;if(k.railslocked&&27!=s)return k.cancelEvent(e);var r=e.ctrlKey||!1,l=e.shiftKey||!1,c=!1;switch(s){case 38:case 63233:k.doScrollBy(72),c=!0;break;case 40:case 63235:k.doScrollBy(-72),c=!0;break;case 37:case 63232:k.railh&&(r?k.doScrollLeft(0):k.doScrollLeftBy(72),c=!0);break;case 39:case 63234:k.railh&&(r?k.doScrollLeft(k.page.maxw):k.doScrollLeftBy(-72),c=!0);break;case 33:case 63276:k.doScrollBy(k.view.h),c=!0;break;case 34:case 63277:k.doScrollBy(-k.view.h),c=!0;break;case 36:case 63273:k.railh&&r?k.doScrollPos(0,0):k.doScrollTo(0),c=!0;break;case 35:case 63275:k.railh&&r?k.doScrollPos(k.page.maxw,k.page.maxh):k.doScrollTo(k.page.maxh),c=!0;break;case 32:z.spacebarenabled&&(l?k.doScrollBy(k.view.h):k.doScrollBy(-k.view.h),c=!0);break;case 27:k.zoomactive&&(k.doZoom(),c=!0)}if(c)return k.cancelEvent(e)}},z.enablekeyboard&&k.bind(l,L.isopera&&!L.isopera12?"keypress":"keydown",k.onkeypress),k.bind(l,"keydown",(function(e){e.ctrlKey&&(k.wheelprevented=!0)})),k.bind(l,"keyup",(function(e){e.ctrlKey||(k.wheelprevented=!1)})),k.bind(a,"blur",(function(e){k.wheelprevented=!1})),k.bind(a,"resize",k.onscreenresize),k.bind(a,"orientationchange",k.onscreenresize),k.bind(a,"load",k.lazyResize),L.ischrome&&!k.ispage&&!k.haswrapper){var C=k.win.attr("style"),$=parseFloat(k.win.css("width"))+1;k.win.css("width",$),k.synched("chromefix",(function(){k.win.attr("style",C)}))}if(k.onAttributeChange=function(e){k.lazyResize(k.isieold?250:30)},z.enableobserver&&(k.isie11||!1===f||(k.observerbody=new f((function(e){if(e.forEach((function(e){if("attributes"==e.type)return E.hasClass("modal-open")&&E.hasClass("modal-dialog")&&!n.contains(n(".modal-dialog")[0],k.doc[0])?k.hide():k.show()})),k.me.clientWidth!=k.page.width||k.me.clientHeight!=k.page.height)return k.lazyResize(30)})),k.observerbody.observe(l.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!k.ispage&&!k.haswrapper)){var M=k.win[0];!1!==f?(k.observer=new f((function(e){e.forEach(k.onAttributeChange)})),k.observer.observe(M,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),k.observerremover=new f((function(e){e.forEach((function(e){if(e.removedNodes.length>0)for(var t in e.removedNodes)if(k&&e.removedNodes[t]===M)return k.remove()}))})),k.observerremover.observe(M.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(k.bind(M,L.isie&&!L.isie9?"propertychange":"DOMAttrModified",k.onAttributeChange),L.isie9&&M.attachEvent("onpropertychange",k.onAttributeChange),k.bind(M,"DOMNodeRemoved",(function(e){e.target===M&&k.remove()})))}!k.ispage&&z.boxzoom&&k.bind(a,"resize",k.resizeZoom),k.istextarea&&(k.bind(k.win,"keydown",k.lazyResize),k.bind(k.win,"mouseup",k.lazyResize)),k.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var N=function(){var t;k.iframexd=!1;try{(t="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(e){k.iframexd=!0,t=!1}if(k.iframexd)return"console"in a&&console.log("NiceScroll error: policy restriced iframe"),!0;if(k.forcescreen=!0,k.isiframe&&(k.iframe={doc:n(t),html:k.doc.contents().find("html")[0],body:k.doc.contents().find("body")[0]},k.getContentSize=function(){return{w:Math.max(k.iframe.html.scrollWidth,k.iframe.body.scrollWidth),h:Math.max(k.iframe.html.scrollHeight,k.iframe.body.scrollHeight)}},k.docscroll=n(k.iframe.body)),!L.isios&&z.iframeautoresize&&!k.isiframe){k.win.scrollTop(0),k.doc.height("");var i=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);k.doc.height(i)}k.lazyResize(30),k.css(n(k.iframe.body),e),L.isios&&k.haswrapper&&k.css(n(t.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?k.bind(this.contentWindow,"scroll",k.onscroll):k.bind(t,"scroll",k.onscroll),z.enablemousewheel&&k.mousewheel(t,k.onmousewheel),z.enablekeyboard&&k.bind(t,L.isopera?"keypress":"keydown",k.onkeypress),L.cantouch?(k.bind(t,"touchstart",k.ontouchstart),k.bind(t,"touchmove",k.ontouchmove)):z.emulatetouch&&(k.bind(t,"mousedown",k.ontouchstart),k.bind(t,"mousemove",(function(e){return k.ontouchmove(e,!0)})),z.grabcursorenabled&&L.cursorgrabvalue&&k.css(n(t.body),{cursor:L.cursorgrabvalue})),k.bind(t,"mouseup",k.ontouchend),k.zoom&&(z.dblclickzoom&&k.bind(t,"dblclick",k.doZoom),k.ongesturezoom&&k.bind(t,"gestureend",k.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout((function(){N.call(k.doc[0],!1)}),500),k.bind(this.doc,"load",N)}},this.showCursor=function(e,t){if(k.cursortimeout&&(clearTimeout(k.cursortimeout),k.cursortimeout=0),k.rail){if(k.autohidedom&&(k.autohidedom.stop().css({opacity:z.cursoropacitymax}),k.cursoractive=!0),k.rail.drag&&1==k.rail.drag.pt||(void 0!==e&&!1!==e&&(k.scroll.y=e/k.scrollratio.y|0),void 0!==t&&(k.scroll.x=t/k.scrollratio.x|0)),k.cursor.css({height:k.cursorheight,top:k.scroll.y}),k.cursorh){var i=k.hasreversehr?k.scrollvaluemaxw-k.scroll.x:k.scroll.x;k.cursorh.css({width:k.cursorwidth,left:!k.rail.align&&k.rail.visibility?i+k.rail.width:i}),k.cursoractive=!0}k.zoom&&k.zoom.stop().css({opacity:z.cursoropacitymax})}},this.hideCursor=function(e){k.cursortimeout||k.rail&&k.autohidedom&&(k.hasmousefocus&&"leave"===z.autohidemode||(k.cursortimeout=setTimeout((function(){k.rail.active&&k.showonmouseevent||(k.autohidedom.stop().animate({opacity:z.cursoropacitymin}),k.zoom&&k.zoom.stop().animate({opacity:z.cursoropacitymin}),k.cursoractive=!1),k.cursortimeout=0}),e||z.hidecursordelay)))},this.noticeCursor=function(e,t,i){k.showCursor(t,i),k.rail.active||k.hideCursor(e)},this.getContentSize=k.ispage?function(){return{w:Math.max(l.body.scrollWidth,l.documentElement.scrollWidth),h:Math.max(l.body.scrollHeight,l.documentElement.scrollHeight)}}:k.haswrapper?function(){return{w:k.doc[0].offsetWidth,h:k.doc[0].offsetHeight}}:function(){return{w:k.docscroll[0].scrollWidth,h:k.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!k||!k.win)return!1;var i=k.page.maxh,o=k.page.maxw,s=k.view.h,r=k.view.w;if(k.view={w:k.ispage?k.win.width():k.win[0].clientWidth,h:k.ispage?k.win.height():k.win[0].clientHeight},k.page=t||k.getContentSize(),k.page.maxh=Math.max(0,k.page.h-k.view.h),k.page.maxw=Math.max(0,k.page.w-k.view.w),k.page.maxh==i&&k.page.maxw==o&&k.view.w==r&&k.view.h==s){if(k.ispage)return k;var n=k.win.offset();if(k.lastposition){var l=k.lastposition;if(l.top==n.top&&l.left==n.left)return k}k.lastposition=n}return 0===k.page.maxh?(k.hideRail(),k.scrollvaluemax=0,k.scroll.y=0,k.scrollratio.y=0,k.cursorheight=0,k.setScrollTop(0),k.rail&&(k.rail.scrollable=!1)):(k.page.maxh-=z.railpadding.top+z.railpadding.bottom,k.rail.scrollable=!0),0===k.page.maxw?(k.hideRailHr(),k.scrollvaluemaxw=0,k.scroll.x=0,k.scrollratio.x=0,k.cursorwidth=0,k.setScrollLeft(0),k.railh&&(k.railh.scrollable=!1)):(k.page.maxw-=z.railpadding.left+z.railpadding.right,k.railh&&(k.railh.scrollable=z.horizrailenabled)),k.railslocked=k.locked||0===k.page.maxh&&0===k.page.maxw,k.railslocked?(k.ispage||k.updateScrollBar(k.view),!1):(k.hidden||(k.rail.visibility||k.showRail(),k.railh&&!k.railh.visibility&&k.showRailHr()),k.istextarea&&k.win.css("resize")&&"none"!=k.win.css("resize")&&(k.view.h-=20),k.cursorheight=Math.min(k.view.h,Math.round(k.view.h*(k.view.h/k.page.h))),k.cursorheight=z.cursorfixedheight?z.cursorfixedheight:Math.max(z.cursorminheight,k.cursorheight),k.cursorwidth=Math.min(k.view.w,Math.round(k.view.w*(k.view.w/k.page.w))),k.cursorwidth=z.cursorfixedheight?z.cursorfixedheight:Math.max(z.cursorminheight,k.cursorwidth),k.scrollvaluemax=k.view.h-k.cursorheight-(z.railpadding.top+z.railpadding.bottom),k.hasborderbox||(k.scrollvaluemax-=k.cursor[0].offsetHeight-k.cursor[0].clientHeight),k.railh&&(k.railh.width=k.page.maxh>0?k.view.w-k.rail.width:k.view.w,k.scrollvaluemaxw=k.railh.width-k.cursorwidth-(z.railpadding.left+z.railpadding.right)),k.ispage||k.updateScrollBar(k.view),k.scrollratio={x:k.page.maxw/k.scrollvaluemaxw,y:k.page.maxh/k.scrollvaluemax},k.getScrollTop()>k.page.maxh?k.doScrollTop(k.page.maxh):(k.scroll.y=k.getScrollTop()/k.scrollratio.y|0,k.scroll.x=k.getScrollLeft()/k.scrollratio.x|0,k.cursoractive&&k.noticeCursor()),k.scroll.y&&0===k.getScrollTop()&&k.doScrollTo(k.scroll.y*k.scrollratio.y|0),k)},this.resize=k.onResize;var A=0;this.onscreenresize=function(e){clearTimeout(A);var t=!k.ispage&&!k.haswrapper;t&&k.hideRails(),A=setTimeout((function(){k&&(t&&k.showRails(),k.resize()),A=0}),120)},this.lazyResize=function(e){return clearTimeout(A),e=isNaN(e)?240:e,A=setTimeout((function(){k&&k.resize(),A=0}),e),k},this.jqbind=function(e,t,i){k.events.push({e:e,n:t,f:i,q:!0}),n(e).on(t,i)},this.mousewheel=function(e,t,i){var o="jquery"in e?e[0]:e;if("onwheel"in l.createElement("div"))k._bind(o,"wheel",t,i||!1);else{var s=void 0!==l.onmousewheel?"mousewheel":"DOMMouseScroll";x(o,s,t,i||!1),"DOMMouseScroll"==s&&x(o,"MozMousePixelScroll",t,i||!1)}};var O=!1;if(L.haseventlistener){try{var R=Object.defineProperty({},"passive",{get:function(){O=!0}});a.addEventListener("test",null,R)}catch(e){}this.stopPropagation=function(e){return!!e&&((e=e.original?e.original:e).stopPropagation(),!1)},this.cancelEvent=function(e){return e.cancelable&&e.preventDefault(),e.stopImmediatePropagation(),e.preventManipulation&&e.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},a.constructor.prototype.addEventListener=l.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(e,t,i){this.attachEvent("on"+e,t)},a.constructor.prototype.removeEventListener=l.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(e,t,i){this.detachEvent("on"+e,t)},this.cancelEvent=function(e){return(e=e||a.event)&&(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1),!1},this.stopPropagation=function(e){return(e=e||a.event)&&(e.cancelBubble=!0),!1};this.delegate=function(e,t,i,o,s){var r=d[t]||!1;r||(r={a:[],l:[],f:function(e){for(var t=r.l,i=!1,o=t.length-1;o>=0;o--)if(!1===(i=t[o].call(e.target,e)))return!1;return i}},k.bind(e,t,r.f,o,s),d[t]=r),k.ispage?(r.a=[k.id].concat(r.a),r.l=[i].concat(r.l)):(r.a.push(k.id),r.l.push(i))},this.undelegate=function(e,t,i,o,s){var r=d[t]||!1;if(r&&r.l)for(var n=0,l=r.l.length;n<l;n++)r.a[n]===k.id&&(r.a.splice(n),r.l.splice(n),0===r.a.length&&(k._unbind(e,t,r.l.f),d[t]=null))},this.bind=function(e,t,i,o,s){var r="jquery"in e?e[0]:e;k._bind(r,t,i,o||!1,s||!1)},this._bind=function(e,t,i,o,s){k.events.push({e:e,n:t,f:i,b:o,q:!1}),O&&s?e.addEventListener(t,i,{passive:!1,capture:o}):e.addEventListener(t,i,o||!1)},this._unbind=function(e,t,i,o){d[t]?k.undelegate(e,t,i,o):e.removeEventListener(t,i,o)},this.unbindAll=function(){for(var e=0;e<k.events.length;e++){var t=k.events[e];t.q?t.e.unbind(t.n,t.f):k._unbind(t.e,t.n,t.f,t.b)}},this.showRails=function(){return k.showRail().showRailHr()},this.showRail=function(){return 0===k.page.maxh||!k.ispage&&"none"==k.win.css("display")||(k.rail.visibility=!0,k.rail.css("display","block"),k.rail.parent().removeClass("noscroll")),k},this.showRailHr=function(){return k.railh&&(0===k.page.maxw||!k.ispage&&"none"==k.win.css("display")||(k.railh.visibility=!0,k.railh.css("display","block"))),k},this.hideRails=function(){return k.hideRail().hideRailHr()},this.hideRail=function(){return k.rail.visibility=!1,k.rail.css("display","none"),k.rail.parent().addClass("noscroll"),k},this.hideRailHr=function(){return k.railh&&(k.railh.visibility=!1,k.railh.css("display","none")),k},this.show=function(){return k.hidden=!1,k.railslocked=!1,k.showRails()},this.hide=function(){return k.hidden=!0,k.railslocked=!0,k.hideRails()},this.toggle=function(){return k.hidden?k.show():k.hide()},this.remove=function(){for(var e in k.stop(),k.cursortimeout&&clearTimeout(k.cursortimeout),k.delaylist)k.delaylist[e]&&h(k.delaylist[e].h);k.doZoomOut(),k.unbindAll(),L.isie9&&k.win[0].detachEvent("onpropertychange",k.onAttributeChange),!1!==k.observer&&k.observer.disconnect(),!1!==k.observerremover&&k.observerremover.disconnect(),!1!==k.observerbody&&k.observerbody.disconnect(),k.events=null,k.cursor&&k.cursor.remove(),k.cursorh&&k.cursorh.remove(),k.rail&&k.rail.remove(),k.railh&&k.railh.remove(),k.zoom&&k.zoom.remove();for(var t=0;t<k.saved.css.length;t++){var i=k.saved.css[t];i[0].css(i[1],void 0===i[2]?"":i[2])}k.saved=!1,k.me.data("__nicescroll","");var o=n.nicescroll;for(var s in o.each((function(e){if(this&&this.id===k.id){delete o[e];for(var t=++e;t<o.length;t++,e++)o[e]=o[t];--o.length&&delete o[o.length]}})),k)k[s]=null,delete k[s];k=null},this.scrollstart=function(e){return this.onscrollstart=e,k},this.scrollend=function(e){return this.onscrollend=e,k},this.scrollcancel=function(e){return this.onscrollcancel=e,k},this.zoomin=function(e){return this.onzoomin=e,k},this.zoomout=function(e){return this.onzoomout=e,k},this.isScrollable=function(e){var t=e.target?e.target:e;if("OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&t!==this.me[0]&&!/^BODY|HTML/.test(t.nodeName);){var i=n(t),o=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(o))return t.clientHeight!=t.scrollHeight;t=!!t.parentNode&&t.parentNode}return!1},this.getViewport=function(e){for(var t=!(!e||!e.parentNode)&&e.parentNode;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var i=n(t);if(/fixed|absolute/.test(i.css("position")))return i;var o=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(o)&&t.clientHeight!=t.scrollHeight)return i;if(i.getNiceScroll().length>0)return i;t=!!t.parentNode&&t.parentNode}return!1},this.triggerScrollStart=function(e,t,i,o,s){if(k.onscrollstart){var r={type:"scrollstart",current:{x:e,y:t},request:{x:i,y:o},end:{x:k.newscrollx,y:k.newscrolly},speed:s};k.onscrollstart.call(k,r)}},this.triggerScrollEnd=function(){if(k.onscrollend){var e=k.getScrollLeft(),t=k.getScrollTop(),i={type:"scrollend",current:{x:e,y:t},end:{x:e,y:t}};k.onscrollend.call(k,i)}};var F=0,I=0,H=0,X=1,q=!1;if(this.onmousewheel=function(e){if(k.wheelprevented||k.locked)return!1;if(k.railslocked)return k.debounced("checkunlock",k.resize,250),!1;if(k.rail.drag)return k.cancelEvent(e);if("auto"===z.oneaxismousemode&&0!==e.deltaX&&(z.oneaxismousemode=!1),z.oneaxismousemode&&0===e.deltaX&&!k.rail.scrollable)return!k.railh||!k.railh.scrollable||k.onmousewheelhr(e);var t=m(),i=!1;if(z.preservenativescrolling&&k.checkarea+600<t&&(k.nativescrollingarea=k.isScrollable(e),i=!0),k.checkarea=t,k.nativescrollingarea)return!0;var o=_(e,!1,i);return o&&(k.checkarea=0),o},this.onmousewheelhr=function(e){if(!k.wheelprevented){if(k.railslocked||!k.railh.scrollable)return!0;if(k.rail.drag)return k.cancelEvent(e);var t=m(),i=!1;return z.preservenativescrolling&&k.checkarea+600<t&&(k.nativescrollingarea=k.isScrollable(e),i=!0),k.checkarea=t,!!k.nativescrollingarea||(k.railslocked?k.cancelEvent(e):_(e,!0,i))}},this.stop=function(){return k.cancelScroll(),k.scrollmon&&k.scrollmon.stop(),k.cursorfreezed=!1,k.scroll.y=Math.round(k.getScrollTop()*(1/k.scrollratio.y)),k.noticeCursor(),k},this.getTransitionSpeed=function(e){return 80+e/72*z.scrollspeed|0},z.smoothscroll)if(k.ishwscroll&&L.hastransition&&z.usetransition&&z.smoothscroll){var D="";this.resetTransition=function(){D="",k.doc.css(L.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(e,t){var i=t?e:k.getTransitionSpeed(e),o=i+"ms";return D!==o&&(D=o,k.doc.css(L.prefixstyle+"transition-duration",o)),i},this.doScrollLeft=function(e,t){var i=k.scrollrunning?k.newscrolly:k.getScrollTop();k.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=k.scrollrunning?k.newscrollx:k.getScrollLeft();k.doScrollPos(i,e,t)},this.cursorupdate={running:!1,start:function(){var e=this;if(!e.running){e.running=!0;var t=function(){e.running&&u(t),k.showCursor(k.getScrollTop(),k.getScrollLeft()),k.notifyScrollEvent(k.win[0])};u(t)}},stop:function(){this.running=!1}},this.doScrollPos=function(e,t,i){var o=k.getScrollTop(),s=k.getScrollLeft();if(((k.newscrolly-o)*(t-o)<0||(k.newscrollx-s)*(e-s)<0)&&k.cancelScroll(),z.bouncescroll?(t<0?t=t/2|0:t>k.page.maxh&&(t=k.page.maxh+(t-k.page.maxh)/2|0),e<0?e=e/2|0:e>k.page.maxw&&(e=k.page.maxw+(e-k.page.maxw)/2|0)):(t<0?t=0:t>k.page.maxh&&(t=k.page.maxh),e<0?e=0:e>k.page.maxw&&(e=k.page.maxw)),k.scrollrunning&&e==k.newscrollx&&t==k.newscrolly)return!1;k.newscrolly=t,k.newscrollx=e;var r=k.getScrollTop(),n=k.getScrollLeft(),l={};l.x=e-n,l.y=t-r;var a=0|Math.sqrt(l.x*l.x+l.y*l.y),c=k.prepareTransition(a);k.scrollrunning||(k.scrollrunning=!0,k.triggerScrollStart(n,r,e,t,c),k.cursorupdate.start()),k.scrollendtrapped=!0,L.transitionend||(k.scrollendtrapped&&clearTimeout(k.scrollendtrapped),k.scrollendtrapped=setTimeout(k.onScrollTransitionEnd,c)),k.setScrollTop(k.newscrolly),k.setScrollLeft(k.newscrollx)},this.cancelScroll=function(){if(!k.scrollendtrapped)return!0;var e=k.getScrollTop(),t=k.getScrollLeft();return k.scrollrunning=!1,L.transitionend||clearTimeout(L.transitionend),k.scrollendtrapped=!1,k.resetTransition(),k.setScrollTop(e),k.railh&&k.setScrollLeft(t),k.timerscroll&&k.timerscroll.tm&&clearInterval(k.timerscroll.tm),k.timerscroll=!1,k.cursorfreezed=!1,k.cursorupdate.stop(),k.showCursor(e,t),k},this.onScrollTransitionEnd=function(){if(k.scrollendtrapped){var e=k.getScrollTop(),t=k.getScrollLeft();if(e<0?e=0:e>k.page.maxh&&(e=k.page.maxh),t<0?t=0:t>k.page.maxw&&(t=k.page.maxw),e!=k.newscrolly||t!=k.newscrollx)return k.doScrollPos(t,e,z.snapbackspeed);k.scrollrunning&&k.triggerScrollEnd(),k.scrollrunning=!1,k.scrollendtrapped=!1,k.resetTransition(),k.timerscroll=!1,k.setScrollTop(e),k.railh&&k.setScrollLeft(t),k.cursorupdate.stop(),k.noticeCursor(!1,e,t),k.cursorfreezed=!1}}}else this.doScrollLeft=function(e,t){var i=k.scrollrunning?k.newscrolly:k.getScrollTop();k.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=k.scrollrunning?k.newscrollx:k.getScrollLeft();k.doScrollPos(i,e,t)},this.doScrollPos=function(e,t,i){var o=k.getScrollTop(),s=k.getScrollLeft();((k.newscrolly-o)*(t-o)<0||(k.newscrollx-s)*(e-s)<0)&&k.cancelScroll();var r=!1;if(k.bouncescroll&&k.rail.visibility||(t<0?(t=0,r=!0):t>k.page.maxh&&(t=k.page.maxh,r=!0)),k.bouncescroll&&k.railh.visibility||(e<0?(e=0,r=!0):e>k.page.maxw&&(e=k.page.maxw,r=!0)),k.scrollrunning&&k.newscrolly===t&&k.newscrollx===e)return!0;k.newscrolly=t,k.newscrollx=e,k.dst={},k.dst.x=e-s,k.dst.y=t-o,k.dst.px=s,k.dst.py=o;var n=0|Math.sqrt(k.dst.x*k.dst.x+k.dst.y*k.dst.y),l=k.getTransitionSpeed(n);k.bzscroll={};var a=r?1:.58;k.bzscroll.x=new M(s,k.newscrollx,l,0,0,a,1),k.bzscroll.y=new M(o,k.newscrolly,l,0,0,a,1),m();var c=function(){if(k.scrollrunning){var e=k.bzscroll.y.getPos();k.setScrollLeft(k.bzscroll.x.getNow()),k.setScrollTop(k.bzscroll.y.getNow()),e<=1?k.timer=u(c):(k.scrollrunning=!1,k.timer=0,k.triggerScrollEnd())}};k.scrollrunning||(k.triggerScrollStart(s,o,e,t,l),k.scrollrunning=!0,k.timer=u(c))},this.cancelScroll=function(){return k.timer&&h(k.timer),k.timer=0,k.bzscroll=!1,k.scrollrunning=!1,k};else this.doScrollLeft=function(e,t){var i=k.getScrollTop();k.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=k.getScrollLeft();k.doScrollPos(i,e,t)},this.doScrollPos=function(e,t,i){var o=e>k.page.maxw?k.page.maxw:e;o<0&&(o=0);var s=t>k.page.maxh?k.page.maxh:t;s<0&&(s=0),k.synched("scroll",(function(){k.setScrollTop(s),k.setScrollLeft(o)}))},this.cancelScroll=function(){};this.doScrollBy=function(e,t){S(0,e)},this.doScrollLeftBy=function(e,t){S(e,0)},this.doScrollTo=function(e,t){var i=t?Math.round(e*k.scrollratio.y):e;i<0?i=0:i>k.page.maxh&&(i=k.page.maxh),k.cursorfreezed=!1,k.doScrollTop(e)},this.checkContentSize=function(){var e=k.getContentSize();e.h==k.page.h&&e.w==k.page.w||k.resize(!1,e)},k.onscroll=function(e){k.rail.drag||k.cursorfreezed||k.synched("scroll",(function(){k.scroll.y=Math.round(k.getScrollTop()/k.scrollratio.y),k.railh&&(k.scroll.x=Math.round(k.getScrollLeft()/k.scrollratio.x)),k.noticeCursor()}))},k.bind(k.docscroll,"scroll",k.onscroll),this.doZoomIn=function(e){if(!k.zoomactive){k.zoomactive=!0,k.zoomrestore={style:{}};var t=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],i=k.win[0].style;for(var o in t){var s=t[o];k.zoomrestore.style[s]=void 0!==i[s]?i[s]:""}k.zoomrestore.style.width=k.win.css("width"),k.zoomrestore.style.height=k.win.css("height"),k.zoomrestore.padding={w:k.win.outerWidth()-k.win.width(),h:k.win.outerHeight()-k.win.height()},L.isios4&&(k.zoomrestore.scrollTop=c.scrollTop(),c.scrollTop(0)),k.win.css({position:L.isios4?"absolute":"fixed",top:0,left:0,zIndex:r+100,margin:0});var n=k.win.css("backgroundColor");return(""===n||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(n))&&k.win.css("backgroundColor","#fff"),k.rail.css({zIndex:r+101}),k.zoom.css({zIndex:r+102}),k.zoom.css("backgroundPosition","0 -18px"),k.resizeZoom(),k.onzoomin&&k.onzoomin.call(k),k.cancelEvent(e)}},this.doZoomOut=function(e){if(k.zoomactive)return k.zoomactive=!1,k.win.css("margin",""),k.win.css(k.zoomrestore.style),L.isios4&&c.scrollTop(k.zoomrestore.scrollTop),k.rail.css({"z-index":k.zindex}),k.zoom.css({"z-index":k.zindex}),k.zoomrestore=!1,k.zoom.css("backgroundPosition","0 0"),k.onResize(),k.onzoomout&&k.onzoomout.call(k),k.cancelEvent(e)},this.doZoom=function(e){return k.zoomactive?k.doZoomOut(e):k.doZoomIn(e)},this.resizeZoom=function(){if(k.zoomactive){var e=k.getScrollTop();k.win.css({width:c.width()-k.zoomrestore.padding.w+"px",height:c.height()-k.zoomrestore.padding.h+"px"}),k.onResize(),k.setScrollTop(Math.min(k.page.maxh,e))}},this.init(),n.nicescroll.push(this)},y=function(e){var t=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(e,i){t.stop(),t.steptime=0,t.lasttime=m(),t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=i,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,i){var o=m();t.steptime=o-t.lasttime,t.lasttime=o;var s=i-t.lasty,r=e-t.lastx,n=t.nc.getScrollTop()+s,l=t.nc.getScrollLeft()+r;t.snapx=l<0||l>t.nc.page.maxw,t.snapy=n<0||n>t.nc.page.maxh,t.speedx=r,t.speedy=s,t.lastx=e,t.lasty=i},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,i){var o=!1;i<0?(i=0,o=!0):i>t.nc.page.maxh&&(i=t.nc.page.maxh,o=!0),e<0?(e=0,o=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,o=!0),o?t.nc.doScrollPos(e,i,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()},this.doMomentum=function(e){var i=m(),o=e?i+e:t.lasttime,s=t.nc.getScrollLeft(),r=t.nc.getScrollTop(),n=t.nc.page.maxh,l=t.nc.page.maxw;t.speedx=l>0?Math.min(60,t.speedx):0,t.speedy=n>0?Math.min(60,t.speedy):0;var a=o&&i-o<=60;(r<0||r>n||s<0||s>l)&&(a=!1);var c=!(!t.speedy||!a)&&t.speedy,d=!(!t.speedx||!a)&&t.speedx;if(c||d){var u=Math.max(16,t.steptime);if(u>50){var h=u/50;t.speedx*=h,t.speedy*=h,u=50}t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var p=t.lastscrollx,f=t.lastscrolly,v=function(){var e=m()-i>600?.04:.02;t.speedx&&(p=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=p,(p<0||p>l)&&(e=.1)),t.speedy&&(f=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=f,(f<0||f>n)&&(e=.1)),t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",(function(){t.speedx&&(t.nc.getScrollLeft(),t.chkx=p,t.nc.setScrollLeft(p)),t.speedy&&(t.nc.getScrollTop(),t.chky=f,t.nc.setScrollTop(f)),t.timer||(t.nc.hideCursor(),t.doSnapy(p,f))})),t.demulxy<1?t.timer=setTimeout(v,u):(t.stop(),t.nc.hideCursor(),t.doSnapy(p,f))};v()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},x=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e,t,i){var o=n.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollTop():x.call(e)},set:function(e,t){var i=n.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(t)):x.call(e,t),this}},e.fn.scrollTop=function(e){if(void 0===e){var t=!!this[0]&&(n.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollTop():x.call(this)}return this.each((function(){var t=n.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(e)):x.call(n(this),e)}))};var S=e.fn.scrollLeft;n.cssHooks.pageXOffset={get:function(e,t,i){var o=n.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollLeft():S.call(e)},set:function(e,t){var i=n.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(t)):S.call(e,t),this}},e.fn.scrollLeft=function(e){if(void 0===e){var t=!!this[0]&&(n.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollLeft():S.call(this)}return this.each((function(){var t=n.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):S.call(n(this),e)}))};var _=function(e){var t=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){return n.each(t,e),t},this.push=function(e){t[t.length]=e,t.length++},this.eq=function(e){return t[e]},e)for(var i=0;i<e.length;i++){var o=n.data(e[i],"__nicescroll")||!1;o&&(this[this.length]=o,this.length++)}return this};!function(e,t,i){for(var o=0,s=t.length;o<s;o++)i(e,t[o])}(_.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],(function(e,t){e[t]=function(){var e=arguments;return this.each((function(){this[t].apply(this,e)}))}})),e.fn.getNiceScroll=function(e){return void 0===e?new _(this):this[e]&&n.data(this[e],"__nicescroll")||!1},(e.expr.pseudos||e.expr[":"]).nicescroll=function(e){return void 0!==n.data(e,"__nicescroll")},n.fn.niceScroll=function(e,t){void 0!==t||"object"!=typeof e||"jquery"in e||(t=e,e=!1);var i=new _;return this.each((function(){var o=n(this),s=n.extend({},t);if(e){var r=n(e);s.doc=r.length>1?n(e,o):r,s.win=o}!("doc"in s)||"win"in s||(s.win=o);var l=o.data("__nicescroll")||!1;l||(s.doc=s.doc||o,l=new w(s,o),o.data("__nicescroll",l)),i.push(l)})),1===i.length?i[0]:i},a.NiceScroll={getjQuery:function(){return e}},n.nicescroll||(n.nicescroll=new _,n.nicescroll.options=v)})),$("select").length>0){function a(){$.each($("select"),(function(e,t){var i=e;$(this).hide(),0==$(this).parent(".select-block").length?$(this).wrap("<div class='select-block "+$(this).attr("class")+"-select-block'></div>"):$(this).parent(".select-block").find(".select").remove();var o="",s="",r=$(this).parent(".select-block"),n="<div class='select-options'><div class='select-options-scroll'><div class='select-options-list'>";"multiple"==$(this).attr("multiple")&&(o="multiple",s="check"),$.each($(this).find("option"),(function(e,t){if(""!=$(this).attr("class")&&null!=$(this).attr("class")){$(this).attr("class")}""!=$(this).attr("value")?n=""!=$(this).attr("data-icon")&&null!=$(this).attr("data-icon")?n+"<div data-value='"+$(this).attr("value")+"' class='select-options__value_"+i+" select-options__value value_"+$(this).val()+"  "+s+"'><div><img src="+$(this).attr("data-icon")+' alt=""></div><div>'+$(this).html()+"</div></div>":n+"<div data-value='"+$(this).attr("value")+"' class='select-options__value_"+i+" select-options__value value_"+$(this).val()+"  "+s+"'>"+$(this).html()+"</div>":"on"==$(this).parent().attr("data-label")&&0==r.find(".select__label").length&&r.prepend('<div class="select__label">'+$(this).html()+"</div>")})),n+="</div></div></div>",r.append("<div class='select_"+i+" select "+$(this).attr("class")+"__select "+o+"'><div class='select-title'><div class='select-title__arrow ion-ios-arrow-down'></div><div class='select-title__value value_"+($(this).find('option[selected="selected"]').val()||"0")+"'>"+($(this).find('option[selected="selected"]').html()||"Выберите удобный способ связи")+"</div></div>"+n+"</div>"),""!=$(this).find('option[selected="selected"]').val()&&r.find(".select").addClass("focus"),1==r.find(".select-options__value").length&&r.find(".select").addClass("one"),"on"==$(this).attr("data-req")&&$(this).addClass("req"),$(".select_"+i+" .select-options-scroll").niceScroll(".select-options-list",{cursorcolor:"#9B4E7C",cursorwidth:"12px",background:"",autohidemode:!1,bouncescroll:!1,cursorborderradius:"10px",scrollspeed:100,mousescrollstep:50,directionlockdeadzone:0,cursorborder:"0px solid #fff"})}))}a(),$("body").on("keyup","input.select-title__value",(function(){$(".select").not($(this).parents(".select")).removeClass("active").find(".select-options").slideUp(50),$(this).parents(".select").addClass("active"),$(this).parents(".select").find(".select-options").slideDown(50,(function(){$(this).find(".select-options-scroll").getNiceScroll().resize()})),$(this).parents(".select-block").find("select").val("")})),$("body").on("click",".select",(function(){if(!$(this).hasClass("disabled")&&!$(this).hasClass("one")){$(".select").not(this).removeClass("active").find(".select-options").slideUp(50),$(this).toggleClass("active"),$(this).find(".select-options").slideToggle(50,(function(){$(this).find(".select-options-scroll").getNiceScroll().resize()}));var e=$.trim($(this).find(".select-title__value").attr("class").replace("select-title__value",""));$(this).find(".select-options__value").show().removeClass("hide").removeClass("last"),""!=e&&$(this).find(".select-options__value."+e).hide().addClass("hide"),$(this).find(".select-options__value").last().hasClass("hide")&&$(this).find(".select-options__value").last().prev().addClass("last")}})),$("body").on("click",".select-options__value",(function(){if($(this).parents(".select").hasClass("multiple"))return $(this).hasClass("active")?($(this).parents(".select").find(".select-title__value span").length>0?$(this).parents(".select").find(".select-title__value").append('<span data-value="'+$(this).data("value")+'">, '+$(this).html()+"</span>"):($(this).parents(".select").find(".select-title__value").data("label",$(this).parents(".select").find(".select-title__value").html()),$(this).parents(".select").find(".select-title__value").html('<span data-value="'+$(this).data("value")+'">'+$(this).html()+"</span>")),$(this).parents(".select-block").find("select").find("option").eq($(this).index()+1).prop("selected",!0),$(this).parents(".select").addClass("focus")):($(this).parents(".select").find(".select-title__value").find('span[data-value="'+$(this).data("value")+'"]').remove(),0==$(this).parents(".select").find(".select-title__value span").length&&($(this).parents(".select").find(".select-title__value").html($(this).parents(".select").find(".select-title__value").data("label")),$(this).parents(".select").removeClass("focus")),$(this).parents(".select-block").find("select").find("option").eq($(this).index()+1).prop("selected",!1)),!1;"search"==$(this).parents(".select").attr("data-type")?($(this).parents(".select").find(".select-title__value").val($(this).html()),$(this).parents(".select").find(".select-title__value").attr("data-value",$(this).html())):($(this).parents(".select").find(".select-title__value").attr("class","select-title__value value_"+$(this).data("value")),$(this).parents(".select").find(".select-title__value").html($(this).html())),$(this).parents(".select-block").find("select").find("option").removeAttr("selected"),""!=$.trim($(this).data("value"))?($(this).parents(".select-block").find("select").val($(this).data("value")),$(this).parents(".select-block").find("select").find('option[value="'+$(this).data("value")+'"]').attr("selected","selected")):($(this).parents(".select-block").find("select").val($(this).html()),$(this).parents(".select-block").find("select").find('option[value="'+$(this).html()+'"]').attr("selected","selected")),""!=$(this).parents(".select-block").find("select").val()?$(this).parents(".select-block").find(".select").addClass("focus"):($(this).parents(".select-block").find(".select").removeClass("focus"),$(this).parents(".select-block").find(".select").removeClass("err"),$(this).parents(".select-block").parent().removeClass("err"),$(this).parents(".select-block").removeClass("err").find(".form__error").remove()),""!=!$(this).parents(".select").data("tags")&&0==$(this).parents(".form-tags").find('.form-tags__item[data-value="'+$(this).data("value")+'"]').length&&$(this).parents(".form-tags").find(".form-tags-items").append('<a data-value="'+$(this).data("value")+'" href="" class="form-tags__item">'+$(this).html()+'<span class="fa fa-times"></span></a>'),$(this).parents(".select-block").find("select").change(),"on"==$(this).parents(".select-block").find("select").data("update")&&a()})),$(document).on("click touchstart",(function(e){$(e.target).is(".select *")||$(e.target).is(".select")||($(".select").removeClass("active"),$(".select-options").slideUp(50,(function(){})))})),$(document).on("keydown",(function(e){27==e.which&&($(".select").removeClass("active"),$(".select-options").slideUp(50,(function(){})))}))}function c(e){$(".popup").removeClass("active").hide(),setTimeout((function(){$("body").addClass("lock")}),300),history.pushState("","","#"+e),$(".popup-"+e).fadeIn(300).delay(300).addClass("active"),$(".popup-"+e).find(".slick-slider").length>0&&$(".popup-"+e).find(".slick-slider").slick("setPosition")}function d(){$(".popup").removeClass("active").fadeOut(300),$(".menu__body").hasClass("active")||$("body").removeClass("lock"),$(".popup-video__value").html(""),history.pushState("","",window.location.href.split("#")[0])}$(".pl").click((function(e){return c($(this).attr("href").replace("#","")),!1})),$(".popup-close,.popup__close").click((function(e){return d(),!1})),$(".popup").click((function(e){if(!$(e.target).is(".popup>.popup__container *")||$(e.target).is(".popup-close")||$(e.target).is(".popup__close"))return d(),!1})),$(document).on("keydown",(function(e){27==e.which&&d()}));(()=>{const e=document.forms;for(let i=0;i<e.length;i++){const o=e[i];o.addEventListener("submit",(e=>{e.preventDefault(),t(o)}))}async function t(e){if(0===function(e){let t=0;const n=e.querySelectorAll("._req, [data-req=on]");for(let e=0;e<n.length;e++){const l=n[e];if(l.classList.contains("form")?o(l.closest(".select-block")):o(l),l.classList.contains("_email"))s(l)||(i(l),t++);else if(l.classList.contains("_phone"))r(l)||(i(l),t++);else if(l.classList.contains("form")){l.querySelector("option[selected=selected]")||(i(l.closest(".select-block")),t++)}else l.value.trim().length<=1&&(i(l),t++)}return t}(e)){let t=new FormData(e),i=e.querySelector(".form__select select option[selected=selected]");t.append("communicate-way",i.textContent),e.classList.add("_sending");let o=await fetch("sendmail.php",{method:"POST",body:t});if(o.ok){await o.json();c("succes"),e.reset(),e.classList.remove("_sending")}else c("fail"),e.classList.remove("_sending")}}function i(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function o(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function s(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e.value).toLowerCase())}function r(e){return/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im.test(String(e.value).toLowerCase())}})()}));